(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(e,t,n){e.exports=n(560)},560:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(43),o=n.n(c),i=n(27),s=n(26),u=n(7),l=n(566),p=n(564),d=n(565),m=n(270),b=n.n(m),f=n(96),h=n(86),y=n(82),v=n(31),O=n(296),g=n(273),j=n(274),E=n.n(j),x=n(118),k=n(47),S=n(13),w=n.n(S),T=n(4),C=n(14),_=n.n(C),A=n(105),I=n(275),D=n.n(I),N=n(22),L=n(25),R=n(24),P=n(21),M=n(23),q=n(297),F=function(e){function t(e,n,a){var r;return Object(N.a)(this,t),(r=Object(R.a)(this,Object(P.a)(t).call(this))).name="ApiError",r.status=e,r.statusText=n,r.response=a,r.message="".concat(e," - ").concat(n),r}return Object(M.a)(t,e),Object(L.a)(t,null,[{key:"errorToHumanString",value:function(e){return"ApiError"===e.name?t.toHumanString(e):e.toString()}},{key:"toHumanString",value:function(){var e=Object(A.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t.status,e.next=403===e.t0?4:404===e.t0?9:400===e.t0?14:500===e.t0?19:24;break;case 4:return e.t1="You don't have access: ",e.next=7,t.response.json();case 7:return e.t2=e.sent.message,e.abrupt("return",e.t1.concat.call(e.t1,e.t2," Maybe you aren't logged in."));case 9:return e.t3="Some page is missing: ",e.next=12,t.response.json();case 12:return e.t4=e.sent.message,e.abrupt("return",e.t3.concat.call(e.t3,e.t4));case 14:return e.t5="You posted some invalid data, contact the administration team: ",e.next=17,t.response.json();case 17:return e.t6=e.sent.message,e.abrupt("return",e.t5.concat.call(e.t5,e.t6));case 19:return e.t7="The server crashed, contact the administration team: ",e.next=22,t.response.json();case 22:return e.t8=e.sent.message,e.abrupt("return",e.t7.concat.call(e.t7,e.t8));case 24:return e.abrupt("return",t.toString());case 25:e.next=30;break;case 27:return e.prev=27,e.t9=e.catch(0),e.abrupt("return",t.toString());case 30:case"end":return e.stop()}},e,this,[[0,27]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(Object(q.a)(Error));function B(e){return U.apply(this,arguments)}function U(){return(U=Object(A.a)(w.a.mark(function e(t){var n,a,r,c,o,i,s,l,p,d,m,b,f,h=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=h.length>1&&void 0!==h[1]?h[1]:{},a=n.queryString,r=void 0===a?null:a,c=n.parameters,o=void 0===c?{}:c,i=n.options,(s=void 0===i?{}:i).credentials="include",s.headers=s.headers||{},e.t0=t,e.next="menu"===e.t0?6:"dblog"===e.t0?8:"csrf_token"===e.t0?11:"dblog:types"===e.t0?14:"roles"===e.t0?16:"role"===e.t0?19:"role:patch"===e.t0?22:"file:upload"===e.t0?28:"permissions"===e.t0?34:"content"===e.t0?36:"content_single"===e.t0?39:"file"===e.t0?42:"actions"===e.t0?45:"contentTypes"===e.t0?48:"node:delete"===e.t0?51:"node:add"===e.t0?62:"node:save"===e.t0?80:"taxonomy_vocabulary"===e.t0?90:"taxonomy_term"===e.t0?93:"user"===e.t0?96:"schema"===e.t0?99:"schema_by_id"===e.t0?101:"field_schema"===e.t0?103:"form_display"===e.t0?105:"field_storage_config"===e.t0?107:"admin_ui_components"===e.t0?109:"admin_ui_routes"===e.t0?111:113;break;case 6:return l="/admin-api/menu?_format=json",e.abrupt("break",114);case 8:return l="/jsonapi/watchdog_entity/",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 11:return l="/session/token",s.text=!0,e.abrupt("break",114);case 14:return l="/admin-ui-support/dblog-types?_format=json",e.abrupt("break",114);case 16:return l="/jsonapi/user_role",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 19:return l="/jsonapi/user_role/".concat(o.role.id),s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 22:return l="/jsonapi/user_role/".concat(o.role.id),s.headers.Accept="application/vnd.api+json",s.method="PATCH",s.body=JSON.stringify({data:o.role}),s.headers["Content-Type"]="application/vnd.api+json",e.abrupt("break",114);case 28:return l="/file/upload/".concat(o.entityTypeId,"/").concat(o.bundle,"/").concat(o.fieldName),s.method="POST",s.headers["Content-Type"]="application/octet-stream",s.headers["Content-Disposition"]='file; filename="'.concat(o.fileName,'"'),s.body=o.body,e.abrupt("break",114);case 34:return l="/admin-api/permissions?_format=json",e.abrupt("break",114);case 36:return l="/jsonapi/node",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 39:return l="/jsonapi/node/".concat(o.bundle,"/").concat(o.id),s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 42:return l="/jsonapi/file",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 45:return l="/jsonapi/action",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 48:return l="/jsonapi/node_type",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 51:return o.node=Object(u.a)({},o.node,{type:o.node.type.includes("--")?o.node.type:"node--".concat(o.node.type)}),e.next=54,B("csrf_token");case 54:return p=e.sent,s.text=!0,s.headers.Accept="application/vnd.api+json",s.headers["X-CSRF-Token"]=p,s.headers["Content-Type"]="application/vnd.api+json",s.method="DELETE",l=o.node.links.self.replace("",""),e.abrupt("break",114);case 62:return(d=o.node).type=d.type.includes("--")?d.type:"node--".concat(d.type),delete d.id,delete d.attributes.nid,delete d.attributes.revision_timestamp,delete d.attributes.changed,delete d.relationships.revision_uid,delete d.relationships.type,delete d.relationships.uid,e.next=73,B("csrf_token");case 73:return m=e.sent,s.headers.Accept="application/vnd.api+json",s.headers["X-CSRF-Token"]=m,s.method="POST",s.body=JSON.stringify({data:d}),l="/jsonapi/".concat(d.type.replace("--","/")),e.abrupt("break",114);case 80:return o.node=Object(u.a)({},o.node,{type:o.node.type.includes("--")?o.node.type:"node--".concat(o.node.type)}),e.next=83,B("csrf_token");case 83:return b=e.sent,s.headers.Accept="application/vnd.api+json",s.headers["X-CSRF-Token"]=b,s.method="PATCH",s.body=JSON.stringify({data:o.node}),l=o.node.links.self.replace("",""),e.abrupt("break",114);case 90:return l="/jsonapi/taxonomy_vocabulary",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 93:return l="/jsonapi/taxonomy_term/".concat(o.type),s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 96:return l="/jsonapi/user",s.headers.Accept="application/vnd.api+json",e.abrupt("break",114);case 99:return l="/schemata/".concat([o.entityTypeId,o.bundle].join("/")),e.abrupt("break",114);case 101:return l="/admin-api/entity-schema/".concat(o.entityTypeId,"/").concat(o.entityId),e.abrupt("break",114);case 103:return l="/jsonapi/field_config",e.abrupt("break",114);case 105:return l="/jsonapi/entity_form_display",e.abrupt("break",114);case 107:return l="/jsonapi/field_storage_config",e.abrupt("break",114);case 109:return l="/jsdrupal/components",e.abrupt("break",114);case 111:return l="/jsdrupal/routes",e.abrupt("break",114);case 113:return e.abrupt("break",114);case 114:return e.next=116,fetch("".concat("").concat(l).concat(r?"?".concat(D.a.stringify(r,{arrayFormat:"brackets"})):""),s).then(function(e){if(![200,201,204].includes(e.status))throw new F(e.status,e.statusText,e);return s.text?e.text():e.json()});case 116:return f=e.sent,e.abrupt("return",f);case 118:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var V=B,H="MESSAGE_SEVERITY_SUCCESS",W=n(10),G=n(11),Y=n(139),z=n.n(Y),Q=n(51),J=n.n(Q),K=n(40),X=n.n(K),$=n(119),Z=n.n($),ee=n(2),te=n.n(ee);te.a.string.isRequired,te.a.string.isRequired,te.a.func.isRequired;function ne(){var e=Object(W.a)(["\n    min-width: 182px;\n  "]);return ne=function(){return e},e}var ae={select:Object(G.css)(ne())},re=function(e){var t=e.label,n=e.value,a=e.onChange,c=e.helpText,o=e.fieldName,s=e.required,u=e.schema.default,l=e.classes,p=e.inputProps.allowed_values;return r.a.createElement(X.a,{margin:"normal",classes:l},r.a.createElement(J.a,{htmlFor:o,required:s},t),r.a.createElement(z.a,{value:n||u,fullWidth:!0,onChange:function(e){return a(e.target.value)},inputProps:{name:o,id:o},className:ae.select},Object.entries(p).map(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement("option",{key:n,value:n},a)})),c&&r.a.createElement(Z.a,null,c))};re.defaultProps={value:"",helpText:""};var ce=re,oe=n(48),ie=n.n(oe),se=n(122),ue=n.n(se),le=function(e){var t=e.classes,n=e.label,a=e.value,c=e.onChange,o=e.fieldName,i=e.required,s=e.inputProps;return r.a.createElement(ie.a,{id:o,value:a,fullWidth:!0,onChange:function(e){return c(Number(e.target.value))},InputProps:Object(u.a)({},s,{unsigned:s.unsigned&&s.unsigned.toString(),endAdornment:s.suffix&&r.a.createElement(ue.a,{position:"end"},s.suffix),startAdornment:s.prefix&&r.a.createElement(ue.a,{position:"start"},s.prefix)}),type:"number",margin:"normal",label:n,classes:t,required:i})};le.defaultProps={inputProps:{min:0},value:""};var pe=le,de=function(e){return r.a.createElement(ie.a,{id:e.fieldName,value:Array.isArray(e.value)&&e.value.length&&e.value[0]||e.value,onChange:function(t){return e.onChange(t.target.value)},margin:"normal",label:e.label,classes:e.classes,required:e.required,autoFocus:e.autoFocus,fullWidth:!0})};de.defaultProps={value:"",autoFocus:!1};var me,be=de,fe=n(72),he=n.n(fe),ye=n(140),ve=n.n(ye);function Oe(){var e=Object(W.a)(["\n    align-items: center;\n  "]);return Oe=function(){return e},e}var ge=function(e){var t=e.onChange,n=e.label,a=e.value;return r.a.createElement(ve.a,{id:"".concat(e.fieldName,"-label"),control:r.a.createElement(he.a,{id:"".concat(e.fieldName,"-cb"),onChange:function(e){return t(e.target.checked)},margin:"normal",value:String(a),checked:a}),label:n,classes:me,required:e.required})};ge.defaultProps={value:!1},me={root:Object(G.css)(Oe())};var je=ge,Ee=function(e){var t=e.classes,n=e.fieldName,a=e.label,c=e.value,o=e.onChange,i=e.required;return r.a.createElement(ie.a,{id:n,fullWidth:!0,label:a,type:"datetime-local",defaultValue:c?new Date(1e3*c).toJSON().slice(0,19):null,margin:"normal",onChange:function(e){return o(+new Date(e.target.value)/1e3)},InputLabelProps:{shrink:!0},classes:t,required:i})};Ee.defaultProps={value:0};var xe=Ee,ke=n(64),Se=n(141),we=n.n(Se),Te=n(142),Ce=n.n(Te),_e=n(73),Ae=n.n(_e),Ie=n(69),De=n.n(Ie),Ne=n(49),Le=n.n(Ne),Re=n(50),Pe=n.n(Re),Me=n(33),qe=n.n(Me),Fe=n(107),Be=n.n(Fe),Ue=n(37),Ve=n(38),He=n(32),We=n.n(He),Ge=n(276),Ye=n.n(Ge),ze=n(120),Qe=n.n(ze);function Je(){var e=Object(W.a)(["\n  margin: 0;\n  text-align: center;\n  .icon {\n    margin-left: 10px;\n  }\n"]);return Je=function(){return e},e}function Ke(){var e=Object(W.a)(["\n  border: 2px dashed grey;\n  border-radius: 3px;\n  display: flex;\n  padding: 25px;\n  width: 100%;\n\n  > div {\n    width: 100%;\n  }\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(W.a)(["\n  width: 100%;\n"]);return Xe=function(){return e},e}var $e=Object(ke.a)("div")(Xe()),Ze=Object(ke.a)("div")(Ke()),et=Object(ke.a)("div")(Je()),tt={marginTop:"10px"},nt={marginTop:"20px"},at={color:"red",paddingLeft:0},rt=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={total:0,files:[],errors:[],filesLength:0,isDisabled:!1},n.onDragOver=function(e){e.stopPropagation(),e.preventDefault(),n.setElementStyles("red"),e.dataTransfer.dropEffect="dragend"},n.onDragLeave=function(e){e.stopPropagation(),e.preventDefault(),n.setElementStyles()},n.onDrop=function(e){e.stopPropagation(),e.preventDefault(),n.readFile(e.dataTransfer.files)},n.onClick=function(){n.input.click()},n.setElementStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grey",t=Object(Ve.a)(Object(Ve.a)(n)),a=t.element,r=t.state.isDisabled;a&&(a.style.border="2px dashed ".concat(e),a.style.opacity="".concat(r?"0.3":"1"))},n.getFiles=function(e){n.readFile(e.target.files)},n.uploadFile=function(e){var t=new window.FileReader;t.onloadend=function(){var t=Object(A.a)(w.a.mark(function t(a){var r,c,o,i,s,u,l,p,d,m,b,f,h,y,v;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target,c=r.readyState,o=r.result,c!==window.FileReader.DONE){t.next=12;break}return i=Object(Ve.a)(Object(Ve.a)(n)),s=i.resetState,u=i.props,l=u.entityTypeId,p=u.bundle,d=u.fieldName,m=u.onFileUpload,b=new Uint8Array(o),f=b.buffer,t.next=6,V("csrf_token");case 6:return h=t.sent,y=e.name.replace(/[,#!$^&*;{}=\-+`~()[\] ]/g,"_"),t.next=10,V("file:upload",{parameters:{bundle:p,fileName:y,fieldName:d,entityTypeId:l,body:f},options:{headers:{"X-CSRF-Token":h}}});case 10:v=t.sent,n.setState(function(e){return{total:e.total+1,files:Object(Ue.a)(e.files).concat([v])}},function(){m(n.state.files),s()});case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t.readAsArrayBuffer(e)},n.checkFile=function(e){var t=e.type,a=e.size,r=e.name,c=e.lastModified,o={},i=t.split("/")[1],s=Object(Ve.a)(Object(Ve.a)(n)),u=s.resetState,l=s.props.inputProps,p=l.max_filesize,d=l.file_extensions;return p&&a>Number(p)&&(o.size="The file could not be saved because it exceeds 2 MB, the maximum allowed size for uploads."),d.includes(i)||(o.type="The image file is invalid or the image type is not allowed. Allowed types: ".concat(d,".")),!(Object.keys(o).length>0)||(o.name="The specified file ".concat(r," could not be uploaded."),o.id=c,n.setState(function(e){return{total:e.total+1,errors:Object(Ue.a)(e.errors).concat([o])}},u),!1)},n.resetState=function(){var e=Object(Ve.a)(Object(Ve.a)(n)),t=e.setElementStyles,a=e.state;a.total===a.filesLength&&n.setState({files:[],filesLength:0,total:0,isDisabled:!1},t)},n.readFile=function(e){var t=Object(Ve.a)(Object(Ve.a)(n)),a=t.setElementStyles,r=t.checkFile,c=t.uploadFile,o=t.props,i=o.multiple,s=o.remainingUploads,u=Object.keys(e).slice(0,s).reduce(function(t,n){return t[n]=e[n],t},{});n.setState({errors:[],isDisabled:!0,filesLength:Object.keys(u).length},a),i&&Object.keys(u).forEach(function(e){var t=u[e];r(t)&&c(t)}),!i&&r(u[0])&&c(u[0])},n.isEnabled=function(e){return n.state.isDisabled?null:e},n.render=function(){var e=Object(Ve.a)(Object(Ve.a)(n)),t=e.onDrop,a=e.onClick,c=e.getFiles,o=e.isEnabled,i=e.onDragOver,s=e.onDragLeave,u=e.state,l=u.total,p=u.errors,d=u.isDisabled,m=u.filesLength,b=e.props,f=b.multiple,h=b.remainingUploads;return r.a.createElement($e,null,r.a.createElement(Ze,{onDrop:o(t),onClick:o(a),onDragOver:o(i),onDragLeave:o(s),innerRef:function(e){n.element=e}},r.a.createElement(et,null,r.a.createElement(We.a,{variant:"subtitle1"},f?"Drop files or click here to upload.":"Drop a file or click here to upload."),r.a.createElement(qe.a,{size:"small",color:"primary",variant:"contained",disabled:d,"aria-label":"Upload Image/s",style:nt},"Upload ",r.a.createElement(Ye.a,{className:"icon"}))),r.a.createElement("input",{type:"file",onChange:c,multiple:f,style:{display:"none"},ref:function(e){n.input=e}})),m>0&&r.a.createElement(Qe.a,{style:nt,variant:"determinate",value:l/m*100}),h<=15&&r.a.createElement(We.a,{component:"p",style:tt},"Remaining uploads: ",h),p.length>0&&r.a.createElement("div",null,r.a.createElement(We.a,{style:at,component:"p"},"One or more files could not be uploaded."),r.a.createElement(We.a,{style:at,component:"ul"},p.map(function(e){var t=e.name,n=e.size,a=e.type,c=e.id;return r.a.createElement(We.a,{style:at,component:"li",key:c},t,r.a.createElement(We.a,{style:at,component:"ul"},n&&r.a.createElement(We.a,{style:at,component:"li"},n),a&&r.a.createElement(We.a,{style:at,component:"li"},a)))}))))},n}return Object(M.a)(t,e),t}(a.Component),ct=function(e,t,n){if(e){var a=n.findIndex(function(e){return e.id===t.id});return-1===a?Object(Ue.a)(n).concat([t]):(n[a]=t,n)}return t},ot=function(e,t){return Array.isArray(t)?t:e?Object.values(t):[t]};function it(){var e=Object(W.a)(["\n    width: 100%;\n  "]);return it=function(){return e},e}function st(){var e=Object(W.a)(["\n  > img {\n    max-width: 100px;\n    margin-right: 20px;\n  }\n"]);return st=function(){return e},e}function ut(){var e=Object(W.a)(["\n  width: 100%;\n\n  legend {\n    margin-bottom: 10px;\n  }\n\n  .remove {\n    margin-left: auto;\n  }\n"]);return ut=function(){return e},e}function lt(){var e=Object(W.a)(["\n  margin-top: 15px;\n"]);return lt=function(){return e},e}var pt=Object(ke.a)("div")(lt()),dt=Object(ke.a)("div")(ut()),mt=Object(ke.a)("div")(st()),bt={fullWidth:Object(G.css)(it())},ft=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={selectedItems:null},n.setSelectedItems=function(e){n.setState({selectedItems:e},function(){n.props.onChange({data:n.state.selectedItems})})},n.recalculateSelectedItems=function(){var e="array"===n.props.schema.properties.data.type,t=ot(e,n.props.value.data),a=t.map(function(e){return e.id});n.fetchEntitites("file","file",a).then(function(a){var r=a.data;n.setState({selectedItems:r.map(function(e,n){var a,r=e.id,c=e.attributes;return a={id:r,type:"file--file"},Object(s.a)(a,"file",c),Object(s.a)(a,"meta",t[n].meta),a}).reduce(function(t,n){return ct(e,n,t)},e?[]:{})})})},n.fetchEntitites=function(e,t,n){return V(e,{queryString:{filter:{id:{condition:{operator:"IN",path:"uuid",value:n}}}},parameters:{bundle:t}})},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){!this.state.selectedItems&&this.props.value&&this.props.value.data&&this.recalculateSelectedItems()}},{key:"componentDidUpdate",value:function(e){this.props.value&&this.props.value.data&&e.value.data!==this.props.value.data&&this.recalculateSelectedItems()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,c=t.label,o=t.bundle,i=t.fieldName,s=t.inputProps,l=t.entityTypeId,p=t.required,d=t.schema,m=d.properties,b=d.maxItems,f=t.classes;if(null===this.state.selectedItems)return null;var h="array"===m.data.type,y=ot(h,this.state.selectedItems).filter(function(e){return e.id}),v=y&&y.length||0,O=h?b||1e11:1;return r.a.createElement(X.a,{margin:"normal",required:p,classes:f,fullWidth:!0},r.a.createElement(dt,null,r.a.createElement(De.a,{component:"legend"},c),r.a.createElement("div",{className:bt.fullWidth,style:{display:!h&&v||v===O?"none":"block"}},r.a.createElement(rt,{bundle:o,multiple:h,fieldName:i,inputProps:s,entityTypeId:l,remainingUploads:O-v,onFileUpload:function(t){var n=t.reduce(function(e,t){var n={file:{type:"file--file",url:t.url[0].value,id:t.uuid[0].value,filename:t.filename[0].value},meta:{alt:""},id:t.uuid[0].value,type:"file--file"};return ct(h,n,e)},y);e.setSelectedItems(n)}})),v>0&&r.a.createElement(pt,null,r.a.createElement(we.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Le.a,null,y.map(function(t,c){var o=t.id,i=t.meta.alt,s=t.file,l=s.url,p=s.filename,d=y.length-1===c;return r.a.createElement(a.Fragment,{key:o},r.a.createElement(Pe.a,null,r.a.createElement(mt,null,r.a.createElement("img",{alt:i||p,src:"".concat("").concat(l)})),r.a.createElement(ie.a,{required:!0,value:i,margin:"normal",label:"Alternative text",onChange:function(a){return e.setSelectedItems(ct(h,Object(u.a)({},t,{meta:{alt:a.target.value}}),n.data))}}),r.a.createElement(qe.a,{mini:!0,id:o,variant:"fab",color:"secondary",className:"remove","aria-label":"Remove Image",onClick:function(t){e.setSelectedItems(function(e,t,n){return e?n.filter(function(e){return e.id!==t}):[]}(h,t.currentTarget.id,y))}},r.a.createElement(Be.a,null))),!d&&r.a.createElement(Ae.a,null))})))))))}}]),t}(r.a.Component);ft.defaultProps={value:{data:{file:{},meta:{}}},inputProps:{file_extensions:"png gif jpg jpeg",max_filesize:"2000000"}};var ht=ft,yt=n(52),vt=n(76),Ot=n.n(vt),gt=n(298),jt=n(35),Et=n.n(jt),xt=n(97),kt=n.n(xt),St=n(58),wt=n.n(St),Tt=function(e){return function(t,n,a){for(var r=arguments.length,c=new Array(r>3?r-3:0),o=3;o<r;o++)c[o-3]=arguments[o];return e.apply(void 0,[t,n,a].concat(c))}},Ct=Tt(function(){});te.a.shape({type:te.a.string.isRequired,title:te.a.string,description:te.a.string,properties:te.a.objectOf(Tt(Ct))});function _t(){var e=Object(W.a)(["\n    width: 100%;\n  "]);return _t=function(){return e},e}function At(){var e=Object(W.a)(["\n    position: absolute;\n    z-index: 900;\n  "]);return At=function(){return e},e}var It={results:Object(G.css)(At()),fullWidth:Object(G.css)(_t())},Dt=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={inputValue:"",selectedItems:null,suggestions:new Map},n.getMaxItems=function(){var e=n.props.schema,t=e.maxItems;return"array"===e.properties.data.type?t||1e11:1},n.recalculateSelectedItems=function(){var e=n.determineEntityTypeAndBundlesFromSchema(n.props.schema),t=Object(i.a)(e,2),a=t[0],r=Object(i.a)(t[1],1)[0],c="array"===n.props.schema.properties.data.type,o=ot(c,n.props.value.data).map(function(e){return e.id});n.fetchEntitites(a,r,o).then(function(e){var t=e.data;n.setState({selectedItems:t.map(function(e){return{id:e.id,label:e.attributes.name,type:(n.props.schema.properties.data.items||n.props.schema.properties.data).properties.type.enum[0]}})})})},n.handleChange=function(e){var t=e.id,a=e.label;return n.setState(function(e){var r=e.selectedItems;return{inputValue:"",selectedItems:Object(u.a)({},r,Object(s.a)({},t,{id:t,label:a,type:(n.props.schema.properties.data.items||n.props.schema.properties.data).properties.type.enum[0]}))}},function(){n.props.onChange(n.state.selectedItems)})},n.handleInputChange=function(e){n.state.selectedItems&&n.getMaxItems()===Object.keys(n.state.selectedItems).length||n.setState({inputValue:e.target.value},function(){if(n.state.inputValue.length){var e=n.determineEntityTypeAndBundlesFromSchema(n.props.schema),t=Object(i.a)(e,2),a=t[0],r=Object(i.a)(t[1],1)[0];n.fetchSuggestedEntities(a,r,n.state.inputValue).then(function(e){var t=e.data;n.setState({suggestions:new Map(t.map(function(e){var t=e.id;return[t,{id:t,label:e.attributes.name}]}))})})}})},n.fetchEntitites=function(e,t,n){return V(e,{queryString:{filter:{id:{condition:{operator:"IN",path:"uuid",value:n}}}},parameters:{type:t}})},n.fetchSuggestedEntities=function(e,t,n){return V(e,{queryString:{filter:{name:{condition:{path:"name",operator:"CONTAINS",value:n}}}},parameters:{type:t}})},n.handleKeyDown=function(e){var t=n.state,a=t.inputValue,r=t.selectedItems;r&&r.length&&!a.length&&"backspace"===Ot()(e)&&n.setState({selectedItems:r.slice(0,r.length-1)},function(){return n.props.onChange(n.state.selectedItems)})},n.handleDelete=function(e){return function(){n.setState(function(t){var n=t.selectedItems;return delete n[e],{selectedItems:n}},function(){return n.props.onChange(n.state.selectedItems)})}},n.determineEntityTypeAndBundlesFromSchema=function(e){return(e.properties.data.items||e.properties.data).properties.type.enum.map(function(e){return e.split("--")}).reduce(function(e,t){var n=Object(i.a)(e,2)[1],a=void 0===n?[]:n,r=Object(i.a)(t,2),c=r[0],o=r[1];return[c,Object(Ue.a)(a).concat([c===o?void 0:o])]},[])},n.renderSuggestion=function(e){var t=e.suggestion,a=e.index,c=e.itemProps,o=e.highlightedIndex,i=e.selectedItem;if(i&&n.getMaxItems()===Object.keys(i).length)return null;var s=o===a,u=i&&Object.keys(i).includes(t.id);return r.a.createElement(wt.a,Object.assign({},c,{key:t.id,selected:s,component:"div",style:{fontWeight:u?500:400}}),t.label)},n.renderInput=function(e){var t=e.InputProps,n=e.ref,a=e.label,c=Object(yt.a)(e,["InputProps","ref","label"]);return r.a.createElement(ie.a,Object.assign({label:a,id:t.id,InputProps:Object(u.a)({inputRef:n},t,{inputProps:{autoComplete:"off"}})},c))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){!this.state.selectedItems&&this.props.value&&this.props.value.data&&this.recalculateSelectedItems()}},{key:"componentDidUpdate",value:function(e){this.props.value&&this.props.value.data&&e.value.data!==this.props.value.data&&this.recalculateSelectedItems()}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=t.selectedItems,c=this.props.fieldName;return r.a.createElement(X.a,{margin:"normal",required:this.props.required,classes:this.props.classes,fullWidth:!0},r.a.createElement(gt.a,{inputValue:n,onChange:this.handleChange,selectedItem:a,itemToString:function(e){return e?e.label:""}},function(t){var n=t.getInputProps,o=t.getItemProps,s=t.isOpen,u=t.selectedItem,l=t.highlightedIndex;return r.a.createElement("div",{className:It.fullWidth},e.renderInput({fullWidth:!0,label:e.props.label,InputProps:n({startAdornment:a?Object.entries(a).map(function(t){var n=Object(i.a)(t,2),a=n[0],c=n[1];return r.a.createElement(kt.a,{key:a,tabIndex:-1,label:c.label,className:"chip",onDelete:e.handleDelete(a)})}):[],onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,placeholder:"",id:c})}),s?r.a.createElement(Et.a,{className:"".concat(It.results," ").concat(It.fullWidth),square:!0},!!e.state.inputValue.length&&Array.from(e.state.suggestions.values()).map(function(t,n){return e.renderSuggestion({suggestion:t,index:n,itemProps:o({item:t}),highlightedIndex:l,selectedItem:u})})):null)}))}}]),t}(r.a.Component);Dt.defaultProps={inputProps:{}};var Nt,Lt=Dt,Rt=n(178),Pt=n.n(Rt);function Mt(){var e=Object(W.a)(["\n    margin-bottom: 10px;\n  "]);return Mt=function(){return e},e}function qt(){var e=Object(W.a)(["\n    .public-DraftEditor-content {\n      min-height: 110px;\n    }\n  "]);return qt=function(){return e},e}var Ft=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).createValueFromString=function(e){return Pt.a.createValueFromString(Array.isArray(e.value)&&e.value.length&&e.value[0].value||e.value.value||"","html")},n.extractValueString=function(e){return Array.isArray(e.value)&&e.value.length&&e.value[0].value||e.value.value||""},n.state={value:n.createValueFromString(n.props),valueString:n.extractValueString(n.props)},n.componentDidUpdate=function(e){n.props.value.value!==e.value.value&&n.extractValueString(n.props)!==n.state.valueString&&n.setState({value:n.createValueFromString(n.props)})},n.onChange=function(e){var t=e.toString("html");n.setState({value:e,valueString:t},function(){n.props.onChange({value:t,format:"basic_html"})})},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(X.a,{margin:"normal",fullWidth:!0,required:this.props.required},r.a.createElement(De.a,{classes:{root:Nt.label}},this.props.label),r.a.createElement(Pt.a,{className:Nt.container,value:this.state.value,onChange:this.onChange}))}}]),t}(r.a.Component);Ft.defaultProps={value:{value:"",format:"basic_html"}},Nt={container:Object(G.css)(qt()),label:Object(G.css)(Mt())};var Bt={options_select:{component:ce},number:{component:pe},string:{component:be},boolean_checkbox:{component:je},datetime_timestamp:{component:xe},image_image:{component:ht,multiple:!0},entity_reference_autocomplete:{component:Lt,multiple:!0},text_textarea:{component:Ft}},Ut=w.a.mark($t),Vt=w.a.mark(an),Ht=w.a.mark(sn),Wt=w.a.mark(pn),Gt=w.a.mark(dn),Yt=function(e,t){return{type:"SET_MESSAGE",payload:{message:e,messageSeverity:t}}},zt=function(e){return Yt(e,"MESSAGE_SEVERITY_ERROR")},Qt=function(e){return Yt(e,H)},Jt=function(e){return{type:"CLEAR_MESSAGE",payload:{key:e}}},Kt="MENU_REQUESTED",Xt="MENU_LOADED";function $t(){var e,t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.d)(Object(C.resetLoading)());case 3:return n.next=5,Object(T.d)(Object(C.showLoading)());case 5:return n.next=7,Object(T.b)(V,"menu");case 7:return e=n.sent,n.next=10,Object(T.d)({type:Xt,payload:{menuLinks:e}});case 10:n.next=22;break;case 12:if(n.prev=12,n.t0=n.catch(0),!"".includes("localhost")){n.next=17;break}return n.next=17,Object(T.d)(zt("Unable to access data from Drupal. Did you set REACT_APP_DRUPAL_BASE_URL to localhost instead of 127.0.0.1?"));case 17:return n.next=19,F.errorToHumanString(n.t0);case 19:return t=n.sent,n.next=22,Object(T.d)(zt(t));case 22:return n.prev=22,n.next=25,Object(T.d)(Object(C.hideLoading)());case 25:return n.finish(22);case 26:case"end":return n.stop()}},Ut,this,[[0,12,22,26]])}var Zt="CONTENT_TYPES_REQUESTED",en=function(){return{type:Zt,payload:{}}},tn=function(e){return e.application.contentTypes},nn="CONTENT_TYPES_LOADED";function an(){var e,t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.b)(V,"contentTypes");case 3:return e=n.sent,n.next=6,Object(T.d)({type:nn,payload:{contentTypes:e}});case 6:n.next=15;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,F.errorToHumanString(n.t0);case 12:return t=n.sent,n.next=15,Object(T.d)(zt(t));case 15:return n.prev=15,n.next=18,Object(T.d)(Object(C.hideLoading)());case 18:return n.finish(15);case 19:case"end":return n.stop()}},Vt,this,[[0,8,15,19]])}var rn="ACTIONS_REQUESTED",cn=function(e){return e.application.actions},on="ACTIONS_LOADED";function sn(){var e,t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.f)(cn);case 3:if(n.t0=n.sent,e={data:n.t0},Object.keys(e.data).length){n.next=9;break}return n.next=8,Object(T.b)(V,"actions");case 8:e=n.sent;case 9:return n.next=11,Object(T.d)({type:on,payload:{actions:e}});case 11:n.next=20;break;case 13:return n.prev=13,n.t1=n.catch(0),n.next=17,F.errorToHumanString(n.t1);case 17:return t=n.sent,n.next=20,Object(T.d)(zt(t));case 20:case"end":return n.stop()}},Ht,this,[[0,13]])}var un="COMPONENT_LIST_REQUESTED",ln="COMPONENT_LIST_LOADED";function pn(){var e,t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.b)(V,"admin_ui_components");case 3:return e=n.sent,n.next=6,Object(T.d)({type:ln,payload:{components:Object(u.a)({},e,{widgets:Object(u.a)({},e.widgets,Bt)})}});case 6:n.next=15;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,F.errorToHumanString(n.t0);case 12:return t=n.sent,n.next=15,Object(T.d)(zt(t));case 15:case"end":return n.stop()}},Wt,this,[[0,8]])}function dn(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.i)(Kt,$t);case 2:return e.next=4,Object(T.i)(Zt,an);case 4:return e.next=6,Object(T.h)(rn,sn);case 6:return e.next=8,Object(T.i)(un,pn);case 8:case"end":return e.stop()}},Gt,this)}var mn=n(562),bn=n(87),fn=n(57),hn=n.n(fn),yn=n(277),vn=n.n(yn);function On(){var e=Object(W.a)(["\n    margin: 10px 3px 40px;\n  "]);return On=function(){return e},e}var gn={title:Object(G.css)(On())},jn=vn()(function(e){var t=e[e.length-1];return t?t.children:null},function(e){document.title=(Array.isArray(e)?e:[e]).map(function(e){return e&&"string"===typeof e?e.trim():""}).join(" ")})(function(e){var t=e.children;return r.a.createElement(We.a,{variant:"h4",classes:{root:gn.title}},t)}),En=jn;function xn(){var e=Object(W.a)(["\n    margin-bottom: 50px;\n  "]);return xn=function(){return e},e}function kn(){var e=Object(W.a)(["\n    text-decoration: inherit;\n  "]);return kn=function(){return e},e}var Sn={menuLink:Object(G.css)(kn()),root:Object(G.css)(xn())},wn=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement("div",{className:Sn.root},r.a.createElement(En,null,"Add content"),r.a.createElement(Et.a,null,r.a.createElement(Le.a,{"data-nightwatch":"node-type-list"},Object.keys(n.props.contentTypes).map(function(e){return r.a.createElement(Pe.a,{component:"li",key:"node-add-".concat(e)},r.a.createElement(mn.a,{className:Sn.menuLink,to:"/node/add/".concat(e)},r.a.createElement(hn.a,{primary:n.props.contentTypes[e].name,secondary:r.a.createElement(bn.Markup,{content:n.props.contentTypes[e].description})})))}))))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestContentTypes()}}]),t}(a.Component),Tn=Object(v.connect)(function(e){return{contentTypes:e.application.contentTypes}},{requestContentTypes:en})(wn),Cn=n(70),_n=n.n(Cn),An=n(56),In=n.n(An),Dn=n(108),Nn=n.n(Dn),Ln=n(78),Rn=n.n(Ln),Pn=n(80),Mn=n.n(Pn),qn=n(34),Fn=n.n(qn),Bn=n(79),Un=n.n(Bn),Vn=n(62),Hn=n.n(Vn),Wn=n(144),Gn=n.n(Wn),Yn=n(145),zn=n.n(Yn),Qn=n(46),Jn=n.n(Qn),Kn=n(278),Xn=n.n(Kn),$n=n(98),Zn=n.n($n),ea=n(101),ta=n.n(ea),na=n(100),aa=n.n(na),ra=n(143),ca=n.n(ra),oa=n(99),ia=n.n(oa),sa=n(77),ua=n.n(sa);function la(e){return r.a.createElement(ua.a,Object.assign({direction:"up"},e))}var pa=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,c=t.text,o=t.cancelText,i=t.confirmText,s=t.enterAction,u=Object(yt.a)(t,["title","text","cancelText","confirmText","enterAction"]);return r.a.createElement(a.Fragment,null,r.a.createElement(Jn.a,Object.assign({},u,{onClick:this.handleClickOpen}),this.props.children),r.a.createElement(Zn.a,{open:this.state.open,TransitionComponent:la,onClose:this.handleClose},r.a.createElement(ia.a,null,n),r.a.createElement(aa.a,null,r.a.createElement(ca.a,null,c)),r.a.createElement(ta.a,null,r.a.createElement(qe.a,{onClick:function(){s(),e.handleClose()},color:"primary"},i),r.a.createElement(qe.a,{onClick:this.handleClose,color:"primary"},o))))}}]),t}(r.a.Component),da=function(e){var t=e.bundle,n=e.title,c=e.nid;return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,t," ",r.a.createElement(mn.a,{to:"/node/".concat(c)},n)," has been updated"))},ma=function(e){return e&&e.type&&e.type.substring("node--".length)},ba=function(e,t){return e&&t&&e[t]&&e[t].name},fa=function(e){var t=e.relationships,n=Object(yt.a)(e,["relationships"]);return Object(u.a)({},n,{relationships:Object.entries(t).reduce(function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1].data;return"object"===typeof r&&r.id&&r.type&&""!==r.id&&""!==r.type&&(e[a]={data:r}),Array.isArray(r)&&r.length&&(e[a]={data:r}),e},{})})},ha=w.a.mark(wa),ya=w.a.mark(_a),va=w.a.mark(qa),Oa=w.a.mark(Fa),ga=w.a.mark(Ba),ja=w.a.mark(Ua),Ea=w.a.mark(Wa),xa=w.a.mark(Ga),ka="CONTENT_REQUESTED",Sa="CONTENT_LOADED";function wa(e){var t,n,a,r,c,o,i,l,p,d,m,b;return w.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload.options&&e.payload.options.title||null,n=e.payload.options&&e.payload.options.contentTypes||[],a=e.payload.options&&e.payload.options.status||null,r=e.payload.options&&e.payload.options.sort||null,c=e.payload.options&&e.payload.options.page||null,f.prev=5,f.next=8,Object(T.d)(Object(C.showLoading)());case 8:return o={filter:{}},c&&(i=c.offset,l=c.limit,o.page={offset:i,limit:l}),r&&(p=r.path,d=r.direction,o.sort="".concat("DESC"===d?"-":"").concat(p)),t&&t.length&&(o.filter=Object(u.a)({},o.filter,{title:{path:"title",operator:"CONTAINS",value:t}})),n.length&&(o.filter=Object(u.a)({},o.filter,{typeGroup:{group:{conjunction:"OR"}},typearticle:{},typepage:{}},n.reduce(function(e,t){return Object(u.a)({},e,Object(s.a)({},"type".concat(t),{condition:{value:t,path:"type",memberOf:"typeGroup"}}))},{}))),a&&a.length&&(o.filter=Object(u.a)({},o.filter,{status:{value:"published"===a?1:0}})),o.include="uid",Object.keys(o.filter).length||delete o.filter,f.next=18,Object(T.b)(V,"content",{queryString:o});case 18:return m=f.sent,f.next=21,Object(T.d)({type:Sa,payload:{contentList:m}});case 21:f.next=30;break;case 23:return f.prev=23,f.t0=f.catch(5),f.next=27,F.errorToHumanString(f.t0);case 27:return b=f.sent,f.next=30,Object(T.d)(zt(b));case 30:return f.prev=30,f.next=33,Object(T.d)(Object(C.hideLoading)());case 33:return f.finish(30);case 34:case"end":return f.stop()}},ha,this,[[5,23,30,34]])}var Ta="CONTENT_SINGLE_REQUESTED",Ca="CONTENT_SINGLE_LOADED";function _a(e){var t,n,a,r,c;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.nid,o.prev=1,o.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return o.next=6,Object(T.d)(Object(C.showLoading)());case 6:return o.next=8,Object(T.b)(V,"content",{queryString:{filter:{condition:{path:"nid",value:t}}}});case 8:return n=o.sent,a=Object(i.a)(n.data,1),r=a[0],o.next=13,Object(T.d)({type:Ca,payload:{content:r}});case 13:o.next=22;break;case 15:return o.prev=15,o.t0=o.catch(1),o.next=19,F.errorToHumanString(o.t0);case 19:return c=o.sent,o.next=22,Object(T.d)(zt(c));case 22:return o.prev=22,o.next=25,Object(T.d)(Object(C.hideLoading)());case 25:return o.finish(22);case 26:case"end":return o.stop()}},ya,this,[[1,15,22,26]])}var Aa="CONTENT_SAVE",Ia=function(e){return{type:Aa,payload:{content:e}}},Da="CONTENT_ADD",Na=function(e,t){return{type:Da,payload:{content:e,bundle:t}}},La="CONTENT_DELETE",Ra=function(e){return{type:La,payload:{content:e}}},Pa="ACTION_EXECUTE",Ma=["entity:delete_action:node","node_make_sticky_action","node_make_unsticky_action","node_promote_action","entity:publish_action:node","node_unpromote_action","entity:unpublish_action:node"];function qa(e){var t,n,a,r,c,o;return w.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.action,a=t.nids,i.prev=1,i.next=4,Object(T.f)(function(e){return e.content.contentList});case 4:return r=i.sent,c=a.map(function(e){var t,a=r.filter(function(t){return String(t.attributes.nid)===e})[0];switch(n.attributes.plugin){case"entity:delete_action:node":t=Object(T.d)(Ra(a));break;case"node_make_sticky_action":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{sticky:!0},links:a.links}));break;case"node_make_unsticky_action":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{sticky:!1},links:a.links}));break;case"node_promote_action":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{promote:!0},links:a.links}));break;case"node_unpromote_action":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{promote:!1},links:a.links}));break;case"entity:publish_action:node":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{status:!0},links:a.links}));break;case"entity:unpublish_action:node":t=Object(T.d)(Ia({id:a.id,type:a.type,attributes:{status:!1},links:a.links}))}return t}).filter(function(e){return e}),i.next=8,Object(T.a)(c);case 8:i.next=17;break;case 10:return i.prev=10,i.t0=i.catch(1),i.next=14,F.errorToHumanString(i.t0);case 14:return o=i.sent,i.next=17,Object(T.d)(zt(o));case 17:return i.prev=17,i.next=20,Object(T.d)(Object(C.hideLoading)());case 20:return i.finish(17);case 21:case"end":return i.stop()}},va,this,[[1,10,17,21]])}function Fa(e){var t,n,a,c,o,s,u,l,p,d;return w.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload.content,m.prev=1,m.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return m.next=6,Object(T.d)(Object(C.showLoading)());case 6:return m.next=8,Object(T.a)([V("node:save",{parameters:{node:t}}),Object(T.d)(en())]);case 8:return n=m.sent,a=Object(i.a)(n,1),c=a[0].data.attributes,o=c.title,s=c.nid,m.next=15,Object(T.f)(tn);case 15:return u=m.sent,l=ma(t),p=ba(u,l)||"unknown",m.next=20,Object(T.d)(Qt(r.a.createElement(da,{bundle:p,title:o,nid:s})));case 20:m.next=29;break;case 22:return m.prev=22,m.t0=m.catch(1),m.next=26,F.errorToHumanString(m.t0);case 26:return d=m.sent,m.next=29,Object(T.d)(zt(d));case 29:return m.prev=29,m.next=32,Object(T.d)(Object(C.hideLoading)());case 32:return m.finish(29);case 33:case"end":return m.stop()}},Oa,this,[[1,22,29,33]])}function Ba(e){var t,n,a,r,c;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.content,o.prev=1,o.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return o.next=6,Object(T.d)(Object(C.showLoading)());case 6:return o.next=8,Object(T.a)([Object(T.b)(V,"node:add",{parameters:{node:t}}),Object(T.d)(en())]);case 8:return o.next=10,Object(T.f)(tn);case 10:return n=o.sent,a=ma(t),r=ba(n,a)||"unknown",o.next=15,Object(T.d)(Object(y.c)("/admin/content"));case 15:return o.next=17,Object(T.d)(Qt("New ".concat(r," added successfully")));case 17:o.next=26;break;case 19:return o.prev=19,o.t0=o.catch(1),o.next=23,F.errorToHumanString(o.t0);case 23:return c=o.sent,o.next=26,Object(T.d)(zt(c));case 26:return o.prev=26,o.next=29,Object(T.d)(Object(C.hideLoading)());case 29:return o.finish(26);case 30:case"end":return o.stop()}},ga,this,[[1,19,26,30]])}function Ua(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.content,a.prev=1,a.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return a.next=6,Object(T.d)(Object(C.showLoading)());case 6:return a.next=8,Object(T.b)(V,"node:delete",{parameters:{node:t}});case 8:a.next=17;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,F.errorToHumanString(a.t0);case 14:return n=a.sent,a.next=17,Object(T.d)(zt(n));case 17:return a.prev=17,a.next=20,Object(T.d)(Object(C.hideLoading)());case 20:return a.finish(17);case 21:case"end":return a.stop()}},ja,this,[[1,10,17,21]])}var Va="USER_REQUESTED",Ha="USER_LOADED";function Wa(e){var t,n,a,r,c;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.uid,o.prev=1,o.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return o.next=6,Object(T.d)(Object(C.showLoading)());case 6:return o.next=8,Object(T.b)(V,"user",{queryString:{filter:{condition:{path:"uid",value:t}}}});case 8:return n=o.sent,a=Object(i.a)(n.data,1),r=a[0],o.next=13,Object(T.d)({type:Ha,payload:{user:r}});case 13:o.next=22;break;case 15:return o.prev=15,o.t0=o.catch(1),o.next=19,F.errorToHumanString(o.t0);case 19:return c=o.sent,o.next=22,Object(T.d)(zt(c));case 22:return o.prev=22,o.next=25,Object(T.d)(Object(C.hideLoading)());case 25:return o.finish(22);case 26:case"end":return o.stop()}},Ea,this,[[1,15,22,26]])}function Ga(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.i)(ka,wa);case 2:return e.next=4,Object(T.h)(Aa,Fa);case 4:return e.next=6,Object(T.i)(Ta,_a);case 6:return e.next=8,Object(T.h)(Pa,qa);case 8:return e.next=10,Object(T.i)(Da,Ba);case 10:return e.next=12,Object(T.h)(La,Ua);case 12:return e.next=14,Object(T.i)(Va,Wa);case 14:case"end":return e.stop()}},xa,this)}function Ya(){var e=Object(W.a)(["\n    padding: 0 1.5rem 1.5rem;\n  "]);return Ya=function(){return e},e}var za={noContentMessage:Object(G.css)(Ya())},Qa=function(e){function t(){return Object(N.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"selectAll",value:function(e){this.props.setChecked(e&&this.props.contentList.map(function(e){return e.attributes.nid}).reduce(function(e,t){return Object(u.a)({},e,Object(s.a)({},t,!0))},{})||{})}},{key:"render",value:function(){var e=this,t=this.props,n=t.links,a=t.contentList,c=t.page,o=c.offset,i=c.limit,s=o+a.length+(n.next?1:0);return r.a.createElement("div",{ref:function(t){e.table=t}},r.a.createElement(Rn.a,null,r.a.createElement(Un.a,null,r.a.createElement(Hn.a,null,r.a.createElement(Fn.a,{padding:"checkbox"},r.a.createElement(he.a,{id:"selectAll",onChange:function(t,n){return e.selectAll(n)},inputProps:{"aria-label":"select all content"}})),[{key:"title",label:"Title",sortable:!0},{key:"type",label:"Content Type",sortable:!0},this.props.includes["user--user"]?{key:"author",label:"Author",sortable:!1}:void 0,{key:"status",label:"Status",sortable:!0},{key:"changed",label:"Updated",sortable:!0},{key:"operations",label:"Operations",sortable:!1}].filter(function(e){return e}).map(function(t){var n=t.key,a=t.label;return t.sortable?r.a.createElement(Fn.a,{key:n},r.a.createElement(Gn.a,{direction:e.props.sort.path===n?e.props.sort.direction.toLowerCase():void 0,active:e.props.sort.path===n,onClick:e.props.tableSortHandler(n,(e.props.sort.path!==n?"DESC":"DESC"===e.props.sort.direction&&"ASC")||"DESC")},a)):r.a.createElement(Fn.a,{key:n},a)}))),r.a.createElement(Mn.a,null,this.props.contentList.map(function(t){var n=t.type,a=t.attributes,c=a.changed,o=a.nid,i=a.status,s=a.title,u=t.relationships,l="row-select-for-".concat(String(o));return r.a.createElement(Hn.a,{key:o},r.a.createElement(Fn.a,{padding:"checkbox"},r.a.createElement(he.a,{id:l,value:String(o),onChange:function(t,n){e.props.setChecked(function(){var t=JSON.parse(JSON.stringify(e.props.checked));return t[o]=n,t}())},checked:e.props.checked[o]||!1})),r.a.createElement(Fn.a,null,r.a.createElement(mn.a,{to:"/node/".concat(o)},r.a.createElement("label",{htmlFor:l},s))),r.a.createElement(Fn.a,null,e.props.contentTypes[n].name),e.props.includes["user--user"]&&r.a.createElement(Fn.a,null,e.props.includes["user--user"][u.uid.data.id]?r.a.createElement(mn.a,{to:"/user/".concat(e.props.includes["user--user"][u.uid.data.id].attributes.uid)},e.props.includes["user--user"][u.uid.data.id].attributes.name):"Anonymous (not verified)"),r.a.createElement(Fn.a,null,i?"Published":"Unpublished"),r.a.createElement(Fn.a,null,new Intl.DateTimeFormat(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(1e3*c))),r.a.createElement(Fn.a,{style:{whiteSpace:"nowrap"}},r.a.createElement(Jn.a,{"aria-label":"edit",className:za.button,component:mn.a,"data-nightwatch":"Edit ".concat(s),to:"/node/".concat(o,"/edit")},r.a.createElement(Xn.a,null)),r.a.createElement(pa,{"aria-label":"delete",className:za.button,title:"Are you sure that you want to delete this content ".concat(s,"?"),text:"This action cannot be undone.",cancelText:"Cancel",confirmText:"Delete",enterAction:function(){e.props.contentDelete(t)}},r.a.createElement(Be.a,null))))}))),r.a.createElement(zn.a,{component:"div",count:s,rowsPerPage:i,page:o/i,onChangePage:this.props.pageChangeHandler,rowsPerPageOptions:[i],labelDisplayedRows:function(e){var t=e.page;return"Page: ".concat(t+1)},nextIconButtonProps:{"aria-label":"Next content page."},backIconButtonProps:{"aria-label":"Previous content page."}}),!this.props.contentList.length&&r.a.createElement(We.a,{className:za.noContentMessage},"There is no content yet. ",r.a.createElement(mn.a,{to:"/node/add"},"Add one"),"."))}}]),t}(r.a.Component),Ja=Object(v.connect)(null,{contentDelete:Ra})(Qa);function Ka(){var e=Object(W.a)(["\n    list-style-type: disc;\n    display: list-item;\n  "]);return Ka=function(){return e},e}function Xa(){var e=Object(W.a)(["\n    text-transform: lowercase;\n  "]);return Xa=function(){return e},e}var $a={dialogActionName:Object(G.css)(Xa()),listItemText:Object(G.css)(Ka())},Za=function(e){var t=e.action,n=e.actions,a=e.checked,c=e.contentList,o=e.dialogVisibility,i=e.handleClose,s=e.executeAction,u=n.filter(function(e){return e.attributes.id===t}).map(function(e){return e.attributes.label}).shift();return r.a.createElement(Zn.a,{open:o,TransitionComponent:function(e){return r.a.createElement(ua.a,Object.assign({direction:"up"},e))},onClose:i},r.a.createElement(ia.a,null,'Are you sure you want to apply the "',r.a.createElement("span",{className:$a.dialogActionName},u),'" action to these content items?'),r.a.createElement(aa.a,null,r.a.createElement(Le.a,null,c.filter(function(e){var t=e.attributes.nid;return Object.keys(a).includes("".concat(t))}).map(function(e){var t=e.attributes,n=t.title,a=t.nid;return r.a.createElement(Pe.a,{key:a},r.a.createElement(hn.a,{className:$a.listItemText},"".concat(n)))})),r.a.createElement(We.a,null,"This action cannot be undone.")),r.a.createElement(ta.a,null,r.a.createElement(qe.a,{onClick:function(){s(),i()},color:"primary"},u),r.a.createElement(qe.a,{onClick:i,color:"primary"},r.a.createElement("p",null,"Cancel"))))};function er(){var e=Object(W.a)(["\n    width: 300px;\n  "]);return er=function(){return e},e}function tr(){var e=Object(W.a)(["\n    padding: 0 1.5rem 1.5rem;\n  "]);return tr=function(){return e},e}function nr(){var e=Object(W.a)(["\n    padding: 0 1.5rem;\n  "]);return nr=function(){return e},e}function ar(){var e=Object(W.a)(["\n    margin: 0.5rem;\n  "]);return ar=function(){return e},e}function rr(){var e=Object(W.a)(["\n    margin-top: 0.5rem;\n  "]);return rr=function(){return e},e}function cr(){var e=Object(W.a)(["\n    margin: 0.5rem;\n  "]);return cr=function(){return e},e}function or(){var e=Object(W.a)(["\n    display: flex;\n    flex-wrap: wrap;\n  "]);return or=function(){return e},e}function ir(){var e=Object(W.a)(["\n    margin: 0.5rem;\n    min-width: 8rem;\n    max-width: 19rem;\n  "]);return ir=function(){return e},e}function sr(){var e=Object(W.a)(["\n    margin: 0.5rem;\n    margin-left: 0rem;\n    min-width: 8rem;\n    max-width: 19rem;\n  "]);return sr=function(){return e},e}function ur(){var e=Object(W.a)(["\n    margin: 0.5rem;\n    position: fixed;\n    right: 0;\n    bottom: 0;\n  "]);return ur=function(){return e},e}function lr(){var e=Object(W.a)(["\n    margin-bottom: 50px;\n  "]);return lr=function(){return e},e}var pr={root:Object(G.css)(lr()),addButton:Object(G.css)(ur()),action:Object(G.css)(sr()),formControl:Object(G.css)(ir()),chips:Object(G.css)(or()),chip:Object(G.css)(cr()),selectEmpty:Object(G.css)(rr()),button:Object(G.css)(ar()),filters:Object(G.css)(nr()),noContentMessage:Object(G.css)(tr()),textField:Object(G.css)(er())},dr=function(e){function t(){var e,n;Object(N.a)(this,t);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(o)))).state={contentTypes:[],status:null,sort:{path:"changed",direction:"DESC"},page:{offset:0,limit:50},action:null,checked:{},dialogVisibility:!1},n.dialogOpen=function(){return n.setState({dialogVisibility:!0})},n.dialogClose=function(){return n.setState({dialogVisibility:!1,action:null,checked:{}})},n.executeAction=function(){var e=n.props.actions.filter(function(e){return e.attributes.id===n.state.action})[0];n.props.actionExecute(e,Object.keys(n.state.checked)),n.setState({checked:{},action:null})},n.tableSortHandler=function(e,t){return function(){n.setState(function(n){return{sort:{path:e,direction:t},page:{offset:0,limit:n.page.limit}}},function(){n.props.requestContent(n.state)})}},n.pageChangeHandler=function(e,t){n.setState(function(e){var n=e.page.limit;return{page:{offset:t*n,limit:n}}},function(){n.props.requestContent(n.state)})},n.render=function(){return r.a.createElement("div",{className:pr.root},r.a.createElement(En,null,"Content"),r.a.createElement(_.a,{style:{position:"relative",marginBottom:"5px"}}),r.a.createElement(Et.a,null,n.props.contentTypes&&n.props.actions&&r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:pr.filters},n.props.contentTypes&&n.props.actions&&r.a.createElement(a.Fragment,null,r.a.createElement(ie.a,{inputProps:{"aria-label":"Title"},label:"Title",placeholder:"Title",className:pr.textField,onChange:function(e){n.setState({title:e.target.value},function(){n.props.requestContent(n.state)})},margin:"normal"}),r.a.createElement(X.a,{className:pr.formControl},r.a.createElement(J.a,{htmlFor:"select-multiple-checkbox"},"Content Type"),r.a.createElement(In.a,{multiple:!0,value:n.state.contentTypes,"data-nightwatch":"content-type-select",onChange:function(e){n.setState({contentTypes:e.target.value},function(){n.props.requestContent(n.state)})},input:r.a.createElement(_n.a,{name:"content-type",id:"select-multiple-checkbox"}),renderValue:function(e){return r.a.createElement("div",{className:pr.chips},e.map(function(e){return r.a.createElement(kt.a,{key:e,label:n.props.contentTypes[e].name,className:pr.chip})}))}},Object.keys(n.props.contentTypes).map(function(e){return r.a.createElement(wt.a,{key:e,value:e},r.a.createElement(he.a,{checked:n.state.contentTypes.indexOf(e)>-1}),r.a.createElement(hn.a,{primary:n.props.contentTypes[e].name}))}))),r.a.createElement(X.a,{className:pr.formControl},r.a.createElement(J.a,{htmlFor:"status"},"Status"),r.a.createElement(In.a,{value:n.state.status||"",onChange:function(e){n.setState({status:e.target.value},function(){n.props.requestContent(n.state)})},input:r.a.createElement(_n.a,{name:"status",id:"status"}),autoWidth:!0},r.a.createElement(wt.a,{value:""},r.a.createElement("em",null,"Any")),r.a.createElement(wt.a,{value:"published"},"Published"),r.a.createElement(wt.a,{value:"unpublished"},"Unpublished"))),r.a.createElement("div",null,r.a.createElement(X.a,{className:pr.action,disabled:0===Object.values(n.state.checked).filter(Boolean).length||!1},r.a.createElement(J.a,{htmlFor:"action"},"Actions"),r.a.createElement(In.a,{value:n.state.action||"",onChange:function(e){n.setState({action:e.target.value})},input:r.a.createElement(_n.a,{name:"action",id:"action"}),autoWidth:!0},r.a.createElement(wt.a,{value:""},r.a.createElement("em",null,"None")),n.props.actions.map(function(e){return r.a.createElement(wt.a,{key:e.id,value:e.attributes.id},e.attributes.label)}))),n.state.action&&0!==Object.values(n.state.checked).filter(Boolean).length&&r.a.createElement(a.Fragment,null,r.a.createElement(qe.a,{onClick:n.dialogOpen,color:"primary",variant:"contained"},"Apply"),r.a.createElement(Za,{action:n.state.action,actions:n.props.actions,checked:n.state.checked,contentList:n.props.contentList,dialogVisibility:n.state.dialogVisibility,handleClose:n.dialogClose,executeAction:n.executeAction})))),r.a.createElement(qe.a,{variant:"fab",color:"primary","aria-label":"add",className:pr.addButton,component:mn.a,to:"/node/add"},r.a.createElement(Nn.a,null))),r.a.createElement(Ja,{pageChangeHandler:n.pageChangeHandler,tableSortHandler:n.tableSortHandler,links:n.props.links,contentList:n.props.contentList,page:n.state.page,includes:n.props.includes,sort:n.state.sort,contentTypes:n.props.contentTypes,checked:n.state.checked,setChecked:function(e){n.setState({checked:e})}}))))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestContentTypes(),this.props.requestContent(this.state),this.props.requestActions()}}]),t}(a.Component);dr.defaultProps={contentList:[],includes:{},actions:[],links:{}};var mr=Object(v.connect)(function(e){return{contentTypes:e.application.contentTypes,contentList:e.content.contentList,includes:e.content.includes,links:e.content.links,actions:e.application.actions.filter(function(e){return Ma.includes(e.attributes.plugin)})}},{requestActions:function(){return{type:rn,payload:{}}},requestContentTypes:en,requestContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contentTypes:[],status:null};return{type:ka,payload:{options:e}}},actionExecute:function(e,t){return{type:Pa,payload:{action:e,nids:t}}}})(dr),br=n(279),fr=n.n(br),hr=n(179);function yr(){var e=Object(W.a)(["\n    display: inline-block;\n    vertical-align: middle;\n    animation-direction: alternate;\n    animation-iteration-count: infinite;\n    animation-duration: 0.5s;\n    animation-timing-function: cubic-bezier(0, 0, 1, 1);\n    transform-origin: bottom;\n    font-size: 50px;\n    animation-name: ",";\n  "]);return yr=function(){return e},e}function vr(){var e=Object(W.a)(["\n    margin: 100px auto 0;\n  "]);return vr=function(){return e},e}function Or(){var e=Object(W.a)(["\n  from {\n    transform: rotate(-10deg);\n  }\n  to {\n    transform: rotate(10deg);\n  }\n"]);return Or=function(){return e},e}var gr,jr;gr=Object(G.keyframes)(Or()),jr={wrap:Object(G.css)(vr()),peace:Object(G.css)(yr(),gr)};var Er,xr=function(){return r.a.createElement("div",{className:jr.wrap},r.a.createElement("span",{className:jr.peace,role:"img","aria-label":"Peace Sign"},"\u270c"))};function kr(){var e=Object(W.a)(["\n    padding: 10px 12px;\n    text-align: left;\n  "]);return kr=function(){return e},e}function Sr(){var e=Object(W.a)(["\n    border-bottom: 1px solid #c7c7c7;\n  "]);return Sr=function(){return e},e}function wr(){var e=Object(W.a)(["\n    tr:hover,\n    tr:focus {\n      background: #f7fcff;\n    }\n  "]);return wr=function(){return e},e}function Tr(){var e=Object(W.a)([""]);return Tr=function(){return e},e}var Cr=function(e){var t=e.children,n=Object(yt.a)(e,["children"]);return r.a.createElement("table",Object.assign({className:Er.table},n),t)},_r=function(e){var t=e.children,n=Object(yt.a)(e,["children"]);return r.a.createElement("tr",n,t)},Ar=function(e){var t=e.children,n=Object(yt.a)(e,["children"]);return r.a.createElement("td",n,t)},Ir=function(e){var t=e.data;return r.a.createElement("thead",null,r.a.createElement(_r,{className:Er.tr},t.map(function(e){return r.a.createElement(Ar,{className:Er.td,key:"column-".concat(e)},e)})))},Dr=function(e){var t=e.rows;return r.a.createElement("tbody",{className:Er.tbody},t.map(function(e){var t=e.colspan,n=e.tds,a=e.key;return r.a.createElement(_r,{key:a,className:Er.tr},n.map(function(e){var n=Object(i.a)(e,3),a=n[0],c=n[1],o=n[2];return r.a.createElement(Ar,{className:Object(G.cx)(Er.td,o||""),key:a,colSpan:t||void 0},c)}))}))};function Nr(){var e=Object(W.a)(["\n    color: #555;\n    width: 400px;\n    padding: 6px 12px;\n    border: 1px solid #ccc;\n    background-color: #fff;\n  "]);return Nr=function(){return e},e}function Lr(){var e=Object(W.a)(["\n    float: right;\n    color: #333;\n    background-color: #fff;\n    display: inline-block;\n    padding: 6px 12px;\n    margin-bottom: 0;\n    text-align: center;\n    vertical-align: middle;\n    touch-action: manipulation;\n    cursor: pointer;\n    user-select: none;\n    background-image: none;\n    border: 1px solid #ccc;\n  "]);return Lr=function(){return e},e}function Rr(){var e=Object(W.a)(["\n    padding: 1.5rem 0;\n    background: #fff;\n    border-bottom: 1px solid #e6e6e6;\n  "]);return Rr=function(){return e},e}function Pr(){var e=Object(W.a)(["\n                  padding: 0 0 0 30px;\n                "]);return Pr=function(){return e},e}Er={thead:Object(G.css)(Tr()),tbody:Object(G.css)(wr()),tr:Object(G.css)(Sr()),td:Object(G.css)(kr())};var Mr,qr=function(e,t){return t.filter(function(t){var n=t.title,a=t.description,r=t.provider,c=t.provider_label;return"".concat(n).concat(a).concat(r).concat(c).toLowerCase().includes(e.toLowerCase())})},Fr=function(e){function t(){var e,n;Object(N.a)(this,t);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(o)))).state={loaded:!1,rawPermissions:[],renderablePermissions:[],working:!1},n.onPermissionCheck=function(e,t){n.setState(function(a){return{changedRoles:Object(Ue.a)(new Set(a.changedRoles).add(e).values()),roles:n.togglePermission(t,e,a.roles)}}),n.props.clearMessage()},n.fetchData=function(){return fr()(Promise.all([V("permissions"),V("roles")]).then(function(e){var t=Object(i.a)(e,2),a=t[0],r=t[1].data;return n.setState({rawPermissions:a,renderablePermissions:a,changedRoles:[],working:!1,roles:n.props.match.params.role&&r.map(function(e){return e.attributes.id}).includes(n.props.match.params.role)?r.filter(function(e){return e.attributes.id===n.props.match.params.role}):r.sort(function(e,t){return e.attributes.is_admin&&t.attributes.is_admin?e.attributes.id-t.attributes.id:e.attributes.is_admin?1:t.attributes.is_admin?-1:e.attributes.id-t.attributes.id}),loaded:!0})}).catch(function(e){return n.setState({loaded:!1,err:e})}))},n.togglePermission=function(e,t,n){var a=n.map(function(e){return e.attributes.id}).indexOf(t),r=n[a],c=r.attributes.permissions.indexOf(e);return-1!==c?r.attributes.permissions.splice(c,1):r.attributes.permissions.push(e),n[a]=r,n},n.groupPermissions=function(e){return Object.entries(e.reduce(function(e,t){return e[t.provider]=e[t.provider]||{providerLabel:t.provider_label,permissions:[]},e[t.provider].permissions.push(t),e},{}))},n.createTableRows=function(e,t){var c;return(c=[]).concat.apply(c,Object(Ue.a)(e.map(function(e){var c=Object(i.a)(e,2),o=c[0],s=c[1],u=s.providerLabel,l=s.permissions;return[{key:"permissionGroup-".concat(o),colspan:t.length+1,tds:[["td-".concat(o),r.a.createElement("b",null,u)]]}].concat(Object(Ue.a)(l.map(function(e){return{key:"permissionGroup-".concat(o,"-").concat(e.title),tds:[["td-".concat(o,"-").concat(e.title),r.a.createElement(a.Fragment,null,r.a.createElement(bn.Markup,{content:e.title}),e["restrict access"]&&r.a.createElement("span",null,r.a.createElement("em",null," ","Warning: Give to trusted roles only; this permission has security implications."," ")),e.description&&r.a.createElement(bn.Markup,{content:" ".concat(e.description)})),Object(G.css)(Pr())]].concat(Object(Ue.a)(t.map(function(t,a){var c=t.attributes;return["td-".concat(o,"-").concat(e.title,"-").concat(a,"-cb"),c.is_admin&&"administrator"===c.id?r.a.createElement("input",{type:"checkbox",checked:!0,disabled:!0}):r.a.createElement("input",{type:"checkbox",onChange:function(){return n.onPermissionCheck(c.id,e.id)},checked:c.permissions.includes(e.id)})]})))}})))})))},n.handleKeyPress=function(e){var t=e.target.value;n.setState(function(e){return Object(u.a)({},e,{renderablePermissions:qr(t,e.rawPermissions)})})},n.saveRoles=function(){n.setState(function(e){return Object(u.a)({},e,{working:!0})},function(){return Promise.all(n.state.roles.filter(function(e){return n.state.changedRoles.includes(e.attributes.id)}).map(function(e){return V("role:patch",{parameters:{role:e}}).then(function(){n.props.setMessage("Changes have been saved",H)})})).then(function(){n.cancelFetch=n.fetchData()})})},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.cancelFetch=this.fetchData()}},{key:"componentWillUnmount",value:function(){this.cancelFetch()}},{key:"render",value:function(){var e=this;if(this.state.err)throw new Error("Error while loading page");return this.state.loaded?r.a.createElement(hr.StickyContainer,null,r.a.createElement(hr.Sticky,null,function(t){var n=t.style;return r.a.createElement("div",{style:n,className:Mr.stickyBar},r.a.createElement("input",{type:"text",className:Mr.searchInput,placeholder:"Filter by name, description or module",onChange:e.handleKeyPress,onKeyDown:e.handleKeyPress}),r.a.createElement("button",{type:"submit",key:"button-save-roles",onClick:e.saveRoles,className:Mr.saveButton,disabled:!e.state.changedRoles.length||e.state.working&&e.state.changedRoles.length},"Save"))}),r.a.createElement(Cr,null,r.a.createElement(Ir,{data:["Permission"].concat(Object(Ue.a)(this.state.roles.map(function(e){return e.attributes.label})))}),r.a.createElement(Dr,{rows:this.createTableRows(this.groupPermissions(this.state.renderablePermissions),this.state.roles)}))):r.a.createElement(xr,null)}}]),t}(a.Component);Mr={stickyBar:Object(G.css)(Rr()),saveButton:Object(G.css)(Lr()),searchInput:Object(G.css)(Nr())};var Br=Object(v.connect)(null,{setMessage:Yt,clearMessage:Jt})(Fr),Ur=w.a.mark(Hr),Vr="ROLES_LOADED";function Hr(){var e,t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.d)(Object(C.resetLoading)());case 3:return n.next=5,Object(T.d)(Object(C.showLoading)());case 5:return n.next=7,Object(T.b)(V,"roles");case 7:return e=n.sent,n.next=10,Object(T.d)({type:Vr,payload:{roles:e}});case 10:n.next=19;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,F.errorToHumanString(n.t0);case 16:return t=n.sent,n.next=19,Object(T.d)(zt(t));case 19:return n.prev=19,n.next=22,Object(T.d)(Object(C.hideLoading)());case 22:return n.next=24,Object(T.c)();case 24:if(!n.sent){n.next=25;break}case 25:return n.finish(19);case 26:case"end":return n.stop()}},Ur,this,[[0,12,19,26]])}var Wr=w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)({task:Object(T.i)("ROLES_REQUESTED",Hr),cancel:Object(T.g)("CANCEL_TASK")});case 2:t=e.sent,t.cancel;case 5:case"end":return e.stop()}},e,this)}),Gr=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).createTableRows=function(e){return e.map(function(e){var t=e.attributes,n=t.label,a=t.id;return{key:"row-".concat(n),tds:[["td-".concat(n),n],["td-".concat(n,"-actions"),r.a.createElement(mn.a,{to:"/admin/people/permissions/".concat(a)},"Edit Permissions")]]}})},n.render=function(){return n.props.roles?r.a.createElement(Cr,null,r.a.createElement(Ir,{data:["NAME","OPERATIONS"]}),r.a.createElement(Dr,{rows:n.createTableRows(n.props.roles)})):r.a.createElement(_.a,null)},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestRoles()}},{key:"componentWillUnmount",value:function(){this.props.cancelTask()}}]),t}(a.Component);Gr.defaultProps={roles:[]};var Yr=Object(v.connect)(function(e){return{roles:e.application.roles}},{requestRoles:function(){return{type:"ROLES_REQUESTED",payload:{}}},cancelTask:function(){return{type:"CANCEL_TASK",payload:{}}}})(Gr),zr=w.a.mark(Kr),Qr="DBLOG_FILTER_UPDATED",Jr="DBLOG_COLLECTION_LOADED";function Kr(e){var t,n,a,r,c;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.options,o.prev=1,n={sort:t.sort||"",page:Object(u.a)({limit:50},t.offset?{offset:t.offset}:{}),filter:Object(u.a)({},t.types&&Object.keys(t.types).length?t.types.reduce(function(e,t){return Object(u.a)({},e,Object(s.a)({},"type".concat(t),{condition:{value:t,path:"type",memberOf:"typeGroup"}}))},{typeGroup:{group:{conjunction:"OR"}}}):{},t.severities&&Object.keys(t.severities).length?t.severities.reduce(function(e,t){return Object(u.a)({},e,Object(s.a)({},"severity".concat(t),{condition:{value:t,path:"severity",memberOf:"severityGroup"}}))},{severityGroup:{group:{conjunction:"OR"}}}):{})},o.next=5,Object(T.d)(Object(C.resetLoading)());case 5:return o.next=7,Object(T.d)(Object(C.showLoading)());case 7:return o.next=9,Object(T.d)({type:Qr,payload:{options:t}});case 9:return o.next=11,Object(T.b)(V,"dblog:types");case 11:return a=o.sent,o.next=14,Object(T.b)(V,"dblog",{queryString:n});case 14:return r=o.sent,o.next=17,Object(T.d)({type:Jr,payload:{dbLogEntries:r,dbLogEntriesTypes:a}});case 17:o.next=26;break;case 19:return o.prev=19,o.t0=o.catch(1),o.next=23,Object(T.b)(F.errorToHumanString,o.t0);case 23:return c=o.sent,o.next=26,Object(T.d)(zt(c));case 26:return o.prev=26,o.next=29,Object(T.d)(Object(C.hideLoading)());case 29:return o.finish(26);case 30:case"end":return o.stop()}},zr,this,[[1,19,26,30]])}var Xr=w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.i)("DBLOG_COLLECTION_REQUEST",Kr);case 2:case"end":return e.stop()}},e,this)}),$r=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).generateTableRows=function(e){return e.map(function(e){var t=e.wid,n=e.type,a=e.messageFormattedPlain,c=e.timestamp;return{key:String(t),tds:[["type-".concat(t),n],["timestamp-".concat(t),c],["markup-".concat(t),r.a.createElement(bn.Markup,{content:"".concat(a.length>48?"".concat(a.substring(0,48),"\u2026"):a)})],["user-".concat(t),""]]}})},n.severityFilterHandler=function(e){return n.props.requestDblogCollection(Object(u.a)({types:null,offset:0},n.props.filterOptions,{severities:Array.from(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value})}))},n.typeFilterHandler=function(e){return n.props.requestDblogCollection(Object(u.a)({severities:null,offset:0},n.props.filterOptions,{types:Array.from(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value})}))},n.nextPage=function(){return n.props.requestDblogCollection(Object(u.a)({severities:null},n.props.filterOptions,{offset:(n.props.filterOptions.offset||0)+50}))},n.previousPage=function(){return n.props.requestDblogCollection(Object(u.a)({severities:null},n.props.filterOptions,{offset:(n.props.filterOptions.offset||0)-50}))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestDblogCollection(Object(u.a)({},this.props.filterOptions,{sort:"-timestamp"}))}},{key:"render",value:function(){return this.props.entries?r.a.createElement(a.Fragment,null,r.a.createElement("select",{key:"select-type",label:"Type",multiple:!0,size:this.props.availableTypes.length,onBlur:this.typeFilterHandler,selected:this.props.filterOptions.types},this.props.availableTypes.map(function(e){return r.a.createElement("option",{value:e,key:e},e)})),r.a.createElement("select",{key:"select-severity",label:"Severity",multiple:!0,size:8,onBlur:this.severityFilterHandler,selected:this.props.filterOptions.severities},["Emergency","Alert","Critical","Error","Warning","Notice","Info","Debug"].map(function(e,t){return r.a.createElement("option",{value:t,key:e},e)})),r.a.createElement("button",{type:"button",onClick:this.previousPage,disabled:this.props.filterOptions.offset<=0},"prev"),r.a.createElement("button",{type:"button",onClick:this.nextPage,disabled:!this.props.next},"next"),r.a.createElement(Cr,null,r.a.createElement(Ir,{data:["Type","Date","Message","User"]}),r.a.createElement(Dr,{rows:this.generateTableRows(this.props.entries)}))):r.a.createElement(_.a,null)}}]),t}(a.Component);$r.defaultProps={entries:null,availableTypes:null,filterOptions:{sort:"",severities:[]},next:!0};var Zr=Object(v.connect)(function(e){var t=e.application.dblog;return Object(u.a)({filterOptions:{offset:0}},t)},{requestDblogCollection:function(e){return{type:"DBLOG_COLLECTION_REQUEST",payload:{options:e}}}})($r),ec=n(103),tc=n.n(ec),nc=n(150),ac=n.n(nc),rc=n(280),cc=n.n(rc),oc=n(102),ic=n.n(oc),sc=function e(t){if("undefined"!==typeof t.default)return t.default;switch(t.type){case"object":return Object.entries(t.properties).reduce(function(t,n){var a=Object(i.a)(n,2),r=a[0],c=a[1];return Object(u.a)({},t,Object(s.a)({},r,e(c)))},{});case"array":return[];case"string":return"";case"number":case"integer":return 0;case"boolean":return!0;case"language_reference":return null;default:throw new Error("Unhandled case")}};function uc(){var e=Object(W.a)(["\n  .icon {\n    margin-left: 10px;\n  }\n"]);return uc=function(){return e},e}var lc=Object(ke.a)("div")(uc()),pc={ListItemStyles:{paddingLeft:0,paddingRight:0},ListItemIconStyles:{cursor:"move",margin:"0 0 0 16px"}},dc=function(e){function t(){var e,n;Object(N.a)(this,t);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(o)))).state={handle:null,currentIndex:-1,newItemAdded:!1},n.onMouseDown=function(e){n.setState({handle:e.currentTarget})},n.onDragStart=function(e){var t=Object(Ve.a)(Object(Ve.a)(n)),a=t.props.value,r=t.state.handle;if(e.target.contains(r)&&1!==a.length){e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed="move";var c=parseInt(e.currentTarget.dataset.key,10);n.setState({currentIndex:c})}else e.preventDefault()},n.onDragOver=function(e){e.preventDefault();var t=Object(Ve.a)(Object(Ve.a)(n)),a=t.props.value,r=t.state.currentIndex,c=parseInt(e.currentTarget.dataset.key,10);if(r!==c){var o=a[r];a[r]=a[c],a[c]=o,n.setState({currentIndex:c})}},n.onDragEnd=function(){var e=n.props,t=e.value,a=e.onChange;n.setState({handle:null,currentIndex:-1},function(){a(t)})},n.changeItem=function(e){return function(t){var a=n.props,r=a.value,c=a.onChange,o=Object(Ue.a)(r);o[e]=t,c(o)}},n.addAnotherItem=function(){var e=n.props,t=e.value,a=e.onChange,r=Object(Ue.a)(t).concat([""]);n.setState({newItemAdded:!0},function(){a(r)})},n.render=function(){var e=Object(Ve.a)(Object(Ve.a)(n)),t=e.onDragEnd,c=e.changeItem,o=e.onDragOver,i=e.onDragLeave,s=e.onDragStart,l=e.onMouseDown,p=e.addAnotherItem,d=e.state.newItemAdded,m=e.props,b=m.label,f=m.value,h=m.component,y=m.onChange,v=f&&f.length&&f||[n.createEmptyItem()];return r.a.createElement(X.a,{margin:"normal",fullWidth:!0},r.a.createElement(De.a,{component:"legend"},b),r.a.createElement(Le.a,null,v&&v.map(function(e,p){return r.a.createElement(Pe.a,{draggable:!0,key:p,"data-key":p,onDragEnd:t,onDragOver:o,onDragLeave:i,onDragStart:s,style:pc.ListItemStyles},r.a.createElement(ic.a,{onMouseDown:l,style:pc.ListItemIconStyles},r.a.createElement(cc.a,null)),r.a.createElement(hn.a,null,r.a.createElement(h,Object(u.a)({},n.props,{value:e,label:"",onChange:c(p),autoFocus:d&&p+1===f.length}))),r.a.createElement(a.Fragment,null,r.a.createElement(qe.a,{mini:!0,variant:"fab",color:"secondary",className:"remove","aria-label":"Remove Image",onClick:function(){f.length>1&&(f.splice(p,1),y(f))}},r.a.createElement(Be.a,null))))})),r.a.createElement(lc,null,r.a.createElement(qe.a,{color:"primary",variant:"contained",onClick:p,"aria-label":"Add another item"},"Add another item",r.a.createElement(Nn.a,null))))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"createEmptyItem",value:function(){return sc(this.props.schema.items)}}]),t}(a.Component),mc=w.a.mark(Oc),bc=w.a.mark(Ec),fc=w.a.mark(Sc),hc=w.a.mark(wc),yc="UI_SCHEMA_REQUESTED",vc="UI_SCHEMA_LOADED";function Oc(e){var t,n,a,r,c,o,s,u,l;return w.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,n=t.entityTypeId,a=t.bundle,p.prev=1,p.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return p.next=6,Object(T.d)(Object(C.showLoading)());case 6:return p.next=8,Object(T.a)([V("field_schema",{queryString:{filter:{entity_type:n,bundle:a}}}),V("form_display",{queryString:{filter:{targetEntityType:n,bundle:a,mode:"default"}}}),V("field_storage_config",{queryString:{filter:{condition:{path:"entity_type",value:n}}}})]);case 8:return r=p.sent,c=Object(i.a)(r,3),o=c[0].data,s=c[1].data,u=c[2].data,p.next=15,Object(T.d)({type:vc,payload:{entityTypeId:n,bundle:a,fieldSchema:o,formDisplaySchema:s,fieldStorageConfig:u}});case 15:p.next=24;break;case 17:return p.prev=17,p.t0=p.catch(1),p.next=21,F.errorToHumanString(p.t0);case 21:return l=p.sent,p.next=24,Object(T.d)(zt(l));case 24:return p.prev=24,p.next=27,Object(T.d)(Object(C.hideLoading)());case 27:return p.finish(24);case 28:case"end":return p.stop()}},mc,this,[[1,17,24,28]])}var gc="SCHEMA_REQUESTED",jc="SCHEMA_LOADED";function Ec(e){var t,n,a,r,c;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.entityTypeId,a=t.bundle,o.prev=1,o.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return o.next=6,Object(T.d)(Object(C.showLoading)());case 6:return o.next=8,Object(T.b)(V,"schema",{parameters:{entityTypeId:n,bundle:a},queryString:{_describes:"api_json",_format:"schema_json"}});case 8:return r=o.sent,o.next=11,Object(T.d)({type:jc,payload:{entityTypeId:n,bundle:a,entitySchema:r}});case 11:o.next=20;break;case 13:return o.prev=13,o.t0=o.catch(1),o.next=17,F.errorToHumanString(o.t0);case 17:return c=o.sent,o.next=20,Object(T.d)(zt(c));case 20:return o.prev=20,o.next=23,Object(T.d)(Object(C.hideLoading)());case 23:return o.finish(20);case 24:case"end":return o.stop()}},bc,this,[[1,13,20,24]])}var xc="SCHEMA_BY_ENTITY_ID_REQUESTED",kc="SCHEMA_BY_ENTITY_ID_LOADED";function Sc(e){var t,n,a,r;return w.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.entityTypeId,a=t.entityId,c.prev=1,c.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return c.next=6,Object(T.d)(Object(C.showLoading)());case 6:return c.next=8,Object(T.b)(V,"schema_by_id",{parameters:{entityTypeId:n,entityId:a}});case 8:return r=c.sent,c.next=11,Object(T.d)({type:kc,payload:{entityTypeId:n,entityId:a,entitySchema:r}});case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(1),c.next=17,Object(T.d)(zt(c.t0.toString()));case 17:return c.prev=17,c.next=20,Object(T.d)(Object(C.hideLoading)());case 20:return c.finish(17);case 21:case"end":return c.stop()}},fc,this,[[1,13,17,21]])}function wc(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.i)(gc,Ec);case 2:return e.next=4,Object(T.i)(xc,Sc);case 4:return e.next=6,Object(T.i)(yc,Oc);case 6:case"end":return e.stop()}},hc,this)}var Tc,Cc=n(180),_c=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={component:null},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;"string"===typeof this.props.component?(window.define("react",function(){return r.a}),Object.keys(Cc).forEach(function(e){return window.define("@material-ui/core/".concat(e),function(){return Cc[e]})}),window.require([this.props.component],function(t){var n=t.default;e.setState({component:n})})):this.setState({component:this.props.component})}},{key:"render",value:function(){return this.state.component?this.props.render(this.state.component):null}}]),t}(r.a.Component);function Ac(){var e=Object(W.a)(["\n    font-size: 20px;\n  "]);return Ac=function(){return e},e}function Ic(){var e=Object(W.a)(["\n    display: flex;\n    align-items: start;\n  "]);return Ic=function(){return e},e}function Dc(){var e=Object(W.a)(["\n    display: grid;\n    width: 100%;\n    grid-gap: 20px;\n    grid-template-columns: 75% 25%;\n    padding-right: 50px;\n  "]);return Dc=function(){return e},e}function Nc(){var e=Object(W.a)(["\n    margin: 40px 0;\n  "]);return Nc=function(){return e},e}function Lc(){var e=Object(W.a)(["\n    padding: 50px 90px 40px;\n  "]);return Lc=function(){return e},e}var Rc=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={restored:!1},n.onAttributeChange=function(e){return function(t){n.setState(function(n){return{entity:Object(u.a)({},n.entity,{attributes:Object(u.a)({},n.entity.attributes,Object(s.a)({},e,t))})}},function(){return n.props.onChange(n.props.bundle,n.state.entity)})}},n.onSave=function(){var e=n.resolveMissingRequiredFields();e.length?n.props.setErrorMessage(e.length>1?"The following fields are missing, ".concat(e.join(", "),"."):"The following field is missing, ".concat(e.join(""),".")):n.props.onSave(n.state.entity)},n.onRelationshipChange=function(e){return function(t){var a=Object.values(t);n.setState(function(t){return{entity:Object(u.a)({},t.entity,{relationships:Object(u.a)({},t.entity.relationships,Object(s.a)({},e,a))})}},function(){return n.props.onChange(n.props.bundle,n.state.entity)})}},n.getSchemaInfo=function(e,t){return e.properties.attributes.properties[t]||e.properties.relationships.properties[t]},n.resolveMissingRequiredFields=function(){var e=["nid","uuid","vid","path"],t=n.props.schema.properties.attributes.required.filter(function(t){return!e.includes(t)});return Object.entries(n.state.entity.attributes).filter(function(e){var n=Object(i.a)(e,1)[0];return t.includes(n)}).filter(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return"object"===typeof a&&Object.keys(a).length&&""===a.value?n:"string"===typeof a&&0===a.length&&n}).map(function(e){return Object(i.a)(e,1)[0]})},n.calculateState=function(e,t,n){if(e.schema&&e.uiSchema&&!t.entity){var a=Object(u.a)({},t,{restored:t.restored||!e.restorableEntity,restorableEntity:!t.restored&&e.restorableEntity,entity:e.entity});a.entity.attributes=Object.entries(a.entity.attributes).filter(function(t){var n=Object(i.a)(t,1)[0];return Object.keys(e.uiSchema.formDisplaySchema).concat(["type"]).includes(n)}).reduce(function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(u.a)({},e,Object(s.a)({},a,r))},{}),n(a)}},n.createField=function(e){var t=e.fieldName,a=e.widget,c=e.inputProps,o=n.getSchemaInfo(n.props.schema,t),i=n.props.schema.properties,s=i.attributes,u=i.relationships,l=s.properties[t]?"attributes":u.properties[t]&&"relationships",p={key:t,entityTypeId:n.props.entityTypeId,bundle:n.props.bundle,fieldName:t,classes:{root:Tc.widgetRoot},value:n.state.entity[l][t],label:o&&o.title,schema:o,onChange:("attributes"===l?n.onAttributeChange:n.onRelationshipChange)(t),required:n.props.schema.properties.attributes.required.includes(t),inputProps:c},d=a.multiple||!1,m=o.type&&"array"===o.type||o.properties&&"array"===o.properties.type;return r.a.createElement(_c,{name:a.name,component:a.component,render:function(e){return m&&!d?r.a.createElement(dc,Object.assign({component:e},p)):r.a.createElement(e,p)}})},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.requestUiSchema({entityTypeId:this.props.entityTypeId,bundle:this.props.bundle}),this.calculateState(this.props,this.state,function(t){return e.setState(t)}),this.props.requestComponentList()}},{key:"componentDidUpdate",value:function(){var e=this;this.calculateState(this.props,this.state,function(t){return e.setState(t)})}},{key:"renderRestoreSnackbar",value:function(){var e=this;return this.props.restorableEntity&&!this.state.restored&&r.a.createElement(tc.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e4,open:!0,"data-nightwatch":"restore-content-snackbar",ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Unsaved content found"),action:[r.a.createElement(qe.a,{key:"undo",color:"secondary",size:"small",onClick:function(){return e.setState({entity:e.props.restorableEntity,restored:!0})}},"Restore"),r.a.createElement(Jn.a,{key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.setState({restored:!0})}},r.a.createElement(ac.a,{className:Tc.icon}))]})}},{key:"render",value:function(){var e,t,n,a,c,o,i=null;if(this.props.schema&&this.props.uiSchema&&this.state.entity&&this.props.components.widgets){var s=(n=this.props.uiSchema.fieldSchema,a=this.props.uiSchema.formDisplaySchema,c=this.props.uiSchema.fieldStorageConfig,o=this.props.components.widgets,e=Array.from(new Set(Object(Ue.a)(Object.keys(n)).concat(Object(Ue.a)(Object.keys(a))))).filter(function(e){return Object.keys(o).filter(function(t){return a[e].type.startsWith(t)}).length}).sort(function(e,t){return a[e].weight-a[t].weight}).reduce(function(e,t){var r=Object.keys(o).filter(function(e){return a[t].type.startsWith(e)}).shift(),i=Object(u.a)({},o[r],{name:r}),s=c.filter(function(e){return e.attributes.field_name===t}).shift(),l=Object(u.a)({},Object.prototype.hasOwnProperty.call(n,t)?n[t].attributes.settings:{},Object.prototype.hasOwnProperty.call(a,t)?a[t].settings:{},s?s.attributes.settings:{});return e.push({fieldName:t,constraints:[],widget:i,inputProps:l}),e},[]),t=["promote","status","sticky","uid","created"],e.reduce(function(e,n){return e[t.includes(n.fieldName)?"right":"left"].push(n),e},{right:[],left:[]})),l=s.right,p=s.left;i=r.a.createElement("div",{className:Tc.gridRoot},this.renderRestoreSnackbar(),r.a.createElement(Et.a,{classes:{root:Tc.fieldContainer}},p.map(this.createField),r.a.createElement(Ae.a,{classes:{root:Tc.divider}}),r.a.createElement(qe.a,{variant:"contained",color:"primary",onClick:this.onSave},"Save")),r.a.createElement(Et.a,{classes:{root:Tc.fieldContainer}},l.map(this.createField)))}return i}}]),t}(r.a.Component);Rc.defaultProps={schema:!1,uiSchema:!1,restorableEntity:null,onChange:function(){}},Tc={fieldContainer:Object(G.css)(Lc()),divider:Object(G.css)(Nc()),gridRoot:Object(G.css)(Dc()),widgetRoot:Object(G.css)(Ic()),icon:Object(G.css)(Ac())};var Pc,Mc=Object(v.connect)(function(e,t){var n=t.bundle,a=t.entityTypeId;return{uiSchema:e.schema.uiSchema["".concat(a,"--").concat(n)],components:e.application.components}},{requestUiSchema:function(e){var t=e.entityTypeId,n=e.bundle;return{type:yc,payload:{entityTypeId:t,bundle:n}}},contentAdd:Na,setErrorMessage:zt,requestComponentList:function(){return{type:un,payload:{}}}})(Rc);function qc(){var e=Object(W.a)(["\n    text-transform: capitalize;\n  "]);return qc=function(){return e},e}var Fc=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(e){return function(t){n.props.contentSave(fa(Object(u.a)({},t,{type:"".concat(n.props.entityTypeId,"--").concat(e)})))}},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestSchemaByEntityId({entityTypeId:this.props.entityTypeId,entityId:this.props.nid}),this.props.requestSingleContent(this.props.nid)}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.schema,c=null;if(t&&n){var o=t.type.replace("node--","");c=r.a.createElement(a.Fragment,null,t&&r.a.createElement(jn,null,r.a.createElement("em",null,"Edit ",r.a.createElement("span",{className:Pc.bundle},o))," ",t.attributes.title),r.a.createElement(_.a,null),t&&r.a.createElement(Mc,Object.assign({},this.props,{bundle:o,entity:t,onSave:this.onSave(o)})))}return c}}]),t}(r.a.Component);Fc.defaultProps={entity:null,schema:null},Pc={bundle:Object(G.css)(qc())};var Bc=Object(v.connect)(function(e,t){var n=t.match.params.nid,a=e.content.contentByNid[n];return{schema:e.schema.schema["node--".concat(n)],entity:a,restorableEntity:a&&function(e,t){var n=e.content.restorableContentEditById[t.id];return n&&n.attributes&&t&&t.attributes&&n.attributes.changed===t.attributes.change?n:null}(e,a),entityTypeId:"node",nid:n}},{requestSingleContent:function(e){return{type:Ta,payload:{nid:e}}},contentSave:Ia,onChange:function(e,t){return{type:"CONTENT_EDIT_CHANGE",payload:{bundle:e,entity:t}}},requestSchemaByEntityId:function(e){var t=e.entityTypeId,n=e.entityId;return{type:xc,payload:{entityTypeId:t,entityId:n}}}})(Fc),Uc=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(e){n.props.contentAdd(fa(Object(u.a)({},e,{type:"".concat(n.props.entityTypeId,"--").concat(n.props.bundle)})),n.props.bundle)},n.forgeEntity=function(e){var t=sc(e),a=new Date;return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),t.attributes.created=Math.round(+a/1e3),t.relationships.uid.data=Object(u.a)({},n.props.user),t},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUser(1),this.props.requestSchema({entityTypeId:this.props.entityTypeId,bundle:this.props.bundle})}},{key:"render",value:function(){return this.props.schema&&this.props.user&&r.a.createElement(a.Fragment,null,r.a.createElement(jn,null,"Create",this.props.bundle),r.a.createElement(_.a,null),r.a.createElement(Mc,Object.assign({},this.props,{entity:this.forgeEntity(this.props.schema),onSave:this.onSave})))}}]),t}(r.a.Component);Uc.defaultProps={schema:!1,user:!1};var Vc=Object(v.connect)(function(e,t){var n=t.match.params.bundle;return{schema:e.schema.schema["node--".concat(n)],restorableEntity:function(e,t){return e.content.restorableContentAddByBundle[t]}(e,n),user:e.content.user,entityTypeId:"node",bundle:n}},{contentAdd:Na,requestSchema:function(e){var t=e.entityTypeId,n=e.bundle;return{type:gc,payload:{entityTypeId:t,bundle:n}}},onChange:function(e,t){return{type:"CONTENT_ADD_CHANGE",payload:{bundle:e,entity:t}}},requestUser:function(e){return{type:Va,payload:{uid:e}}}})(Uc),Hc=n(561),Wc=n(63),Gc=n.n(Wc);function Yc(){var e=Object(W.a)(["\n    margin-left: 0rem;\n    margin-bottom: 0.5rem;\n    min-width: 5rem;\n    max-width: 15rem;\n  "]);return Yc=function(){return e},e}var zc={action:Object(G.css)(Yc())},Qc=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={activeLink:null},n.vocabularyOperations=function(e){return r.a.createElement(X.a,{className:zc.action},r.a.createElement(J.a,{htmlFor:"action"},"Actions"),r.a.createElement(In.a,{value:n.state.activeLink||"",autoWidth:!0,onChange:function(e){return n.setState({activeLink:e.target.value})}},r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e,"/overview")},"List Terms"),r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e)},"Edit Vocabulary"),r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e,"/add")},"Add Terms"),r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e,"/overview/fields")},"Manage Fields"),r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e,"/overview/form-display")},"Manage Form Display"),r.a.createElement(Gc.a,{value:"/admin/structure/taxonomy/manage/".concat(e,"/overview/display")},"Manage Display")),n.state.activeLink&&r.a.createElement(Hc.a,{to:n.state.activeLink}))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestTaxonomyVocabulary()}},{key:"render",value:function(){var e=this,t=this.props.taxonomyVocabulary;return r.a.createElement(a.Fragment,null,r.a.createElement(En,null,"Taxonomy"),r.a.createElement(_.a,{style:{position:"relative",marginBottom:"5px"}}),r.a.createElement(Et.a,null,r.a.createElement(Rn.a,null,r.a.createElement(Un.a,null,r.a.createElement(Hn.a,null,r.a.createElement(Fn.a,null,"Vocabulary name"),r.a.createElement(Fn.a,null,"Description"),r.a.createElement(Fn.a,null,"Operations"))),r.a.createElement(Mn.a,null,t&&t.map(function(t){return r.a.createElement(Hn.a,{key:t.id},r.a.createElement(Fn.a,null,t.attributes.name),r.a.createElement(Fn.a,null,t.attributes.description),r.a.createElement(Fn.a,null,e.vocabularyOperations(t.attributes.vid)))})))))}}]),t}(r.a.Component);Qc.defaultProps={taxonomyVocabulary:null};var Jc=w.a.mark(eo),Kc=w.a.mark(ro),Xc=w.a.mark(co),$c="TAXONOMY_VOCABULARY_REQUESTED",Zc="TAXONOMY_VOCABULARY_LOADED";function eo(e){var t,n,a;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(T.d)(Object(C.resetLoading)());case 3:return r.next=5,Object(T.d)(Object(C.showLoading)());case 5:return r.next=7,Object(T.b)(V,"taxonomy_vocabulary",Object(u.a)({},e.payload.vocabulary&&{queryString:{filter:{condition:{path:"vid",value:e.payload.vocabulary}}}}||{}));case 7:return t=r.sent,n=t.data,r.next=11,Object(T.d)({type:Zc,payload:{taxonomyVocabulary:n}});case 11:r.next=20;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,F.errorToHumanString(r.t0);case 17:return a=r.sent,r.next=20,Object(T.d)(zt(a));case 20:return r.prev=20,r.next=23,Object(T.d)(Object(C.hideLoading)());case 23:return r.finish(20);case 24:case"end":return r.stop()}},Jc,this,[[0,13,20,24]])}var to="TAXONOMY_TERMS_REQUESTED",no=function(e,t){return e.filter(function(e){return e.attributes.vid===t}).shift()},ao="TAXONOMY_TERMS_LOADED";function ro(e){var t,n,a,r,c,o;return w.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.vocabulary,i.next=4,Object(T.d)(Object(C.resetLoading)());case 4:return i.next=6,Object(T.d)(Object(C.showLoading)());case 6:return i.next=8,Object(T.b)(V,"taxonomy_term",{parameters:{type:t}});case 8:return n=i.sent,a=n.data,i.next=12,Object(T.f)();case 12:if(r=i.sent,(c=r.taxonomy.taxonomyVocabulary).length&&no(c,t)){i.next=17;break}return i.next=17,Object(T.d)({type:$c,payload:{vocabulary:t}});case 17:return i.next=19,Object(T.d)({type:ao,payload:{vocabulary:t,taxonomyTerms:a}});case 19:i.next=28;break;case 21:return i.prev=21,i.t0=i.catch(0),i.next=25,F.errorToHumanString(i.t0);case 25:return o=i.sent,i.next=28,Object(T.d)(zt(o));case 28:return i.prev=28,i.next=31,Object(T.d)(Object(C.hideLoading)());case 31:return i.finish(28);case 32:case"end":return i.stop()}},Kc,this,[[0,21,28,32]])}function co(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.i)($c,eo);case 2:return e.next=4,Object(T.i)(to,ro);case 4:case"end":return e.stop()}},Xc,this)}var oo=Object(v.connect)(function(e){return{taxonomyVocabulary:e.taxonomy.taxonomyVocabulary}},{requestTaxonomyVocabulary:function(){return{type:$c,payload:{}}}})(Qc);function io(){var e=Object(W.a)(["\n    margin-left: 0rem;\n    margin-bottom: 0.5rem;\n    min-width: 5rem;\n    max-width: 15rem;\n  "]);return io=function(){return e},e}var so={action:Object(G.css)(io())},uo=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={activeLink:null},n.termOperations=function(e){return r.a.createElement(X.a,{className:so.action},r.a.createElement(J.a,{htmlFor:"action"},"Actions"),r.a.createElement(In.a,{autoWidth:!0,onChange:function(e){return n.setState({activeLink:e.target.value})},value:n.state.activeLink||""},r.a.createElement(Gc.a,{value:"/taxonomy/term/".concat(e,"/edit")},"Edit"),r.a.createElement(Gc.a,{value:"/taxonomy/term/".concat(e,"/delete")},"Delete")),n.state.activeLink&&r.a.createElement(Hc.a,{to:n.state.activeLink}))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestTaxonomyTerms(this.props.vocabulary)}},{key:"render",value:function(){var e=this,t=this.props,n=t.taxonomyTerms,c=t.taxonomyVocabulary;return r.a.createElement(a.Fragment,null,c&&r.a.createElement(En,null,c.attributes.name),r.a.createElement(_.a,{style:{position:"relative",marginBottom:"5px"}}),r.a.createElement(Et.a,null,r.a.createElement(Rn.a,null,r.a.createElement(Un.a,null,r.a.createElement(Hn.a,null,r.a.createElement(Fn.a,null,"Name"),r.a.createElement(Fn.a,null,"Operations"))),r.a.createElement(Mn.a,null,n&&n.map(function(t){return r.a.createElement(Hn.a,{key:t.attributes.uuid},r.a.createElement(Fn.a,null,t.attributes.name),r.a.createElement(Fn.a,null,e.termOperations(t.attributes.tid)))})))),r.a.createElement(qe.a,{variant:"fab",color:"primary","aria-label":"add",className:so.addButton,component:mn.a,to:"/admin/structure/taxonomy/manage/".concat(this.props.vocabulary,"/add")},r.a.createElement(Nn.a,null)))}}]),t}(r.a.Component);uo.defaultProps={taxonomyTerms:null,taxonomyVocabulary:null};var lo=Object(v.connect)(function(e,t){var n=t.match.params.vocabulary;return{taxonomyTerms:e.taxonomy.taxonomyTerms[n],taxonomyVocabulary:no(e.taxonomy.taxonomyVocabulary,n),vocabulary:n}},{requestTaxonomyTerms:function(e){return{type:to,payload:{vocabulary:e}}}})(uo),po={"/admin/content":mr,"/admin/people/permissions/:role?":Br,"/admin/people/roles":Yr,"/admin/reports/dblog":Zr,"/node/add":Tn,"/node/:nid/edit":Bc,"/node/add/:bundle":Vc,"/admin/structure/taxonomy/manage/:vocabulary/overview":lo,"/admin/structure/taxonomy":oo},mo=n(559),bo=n(146),fo=n.n(bo),ho=n(147),yo=n.n(ho),vo=n(285),Oo=n.n(vo),go=n(286),jo=n.n(go),Eo=n(287),xo=n.n(Eo),ko=n(288),So=n.n(ko),wo=n(289),To=n.n(wo),Co=n(290),_o=n.n(Co),Ao=n(291),Io=n.n(Ao),Do=n(292),No=n.n(Do),Lo=n(294),Ro=n.n(Lo),Po=n(293),Mo=n.n(Po),qo=n(121),Fo=n.n(qo),Bo=n(281),Uo=n.n(Bo),Vo=n(283),Ho=n.n(Vo),Wo=n(284),Go=n.n(Wo),Yo=n(282),zo=n.n(Yo);function Qo(){var e=Object(W.a)(["\n    display: flex;\n    align-items: center;\n\n    a {\n      color: #fff;\n    }\n  "]);return Qo=function(){return e},e}function Jo(){var e=Object(W.a)(["\n    margin-right: 10px;\n    opacity 0.9;\n  "]);return Jo=function(){return e},e}function Ko(){var e=Object(W.a)(["\n    font-size: 20px;\n  "]);return Ko=function(){return e},e}function Xo(){var e=Object(W.a)(["\n    background-color: #ffa000;\n  "]);return Xo=function(){return e},e}function $o(){var e=Object(W.a)(["\n    background-color: #1976d2;\n  "]);return $o=function(){return e},e}function Zo(){var e=Object(W.a)(["\n    background-color: #d32f2f;\n  "]);return Zo=function(){return e},e}function ei(){var e=Object(W.a)(["\n    background-color: #43a047;\n  "]);return ei=function(){return e},e}var ti={MESSAGE_SEVERITY_SUCCESS:Uo.a,MESSAGE_SEVERITY_WARNING:zo.a,MESSAGE_SEVERITY_ERROR:Ho.a,MESSAGE_SEVERITY_INFO:Go.a},ni={success:Object(G.css)(ei()),error:Object(G.css)(Zo()),info:Object(G.css)($o()),warning:Object(G.css)(Xo()),icon:Object(G.css)(Ko()),iconVariant:Object(G.css)(Jo()),message:Object(G.css)(Qo())},ai=function(e){var t=ti[e.messageSeverity];return r.a.createElement(tc.a,{open:e.open,autoHideDuration:e.duration,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(Fo.a,{className:function(t){switch(e.messageSeverity){case"MESSAGE_SEVERITY_ERROR":return ni.error;case"MESSAGE_SEVERITY_WARNING":return ni.warning;case"MESSAGE_SEVERITY_INFO":return ni.info;case H:return ni.success;default:return ni.error}}(),message:r.a.createElement("span",{className:ni.message},r.a.createElement(t,{className:"".concat(ni.icon," ").concat(ni.iconVariant)}),e.message),action:[r.a.createElement(Jn.a,{key:"close","aria-label":"Close",color:"inherit",onClick:e.onClose},r.a.createElement(ac.a,{className:ni.icon}))]}))};ai.defaultProps={duration:5e3};var ri,ci,oi,ii=ai;function si(){var e=Object(W.a)(["\n    background-color: #ffa000;\n  "]);return si=function(){return e},e}function ui(){var e=Object(W.a)(["\n    background-color: #1976d2;\n  "]);return ui=function(){return e},e}function li(){var e=Object(W.a)(["\n    background-color: #d32f2f;\n  "]);return li=function(){return e},e}function pi(){var e=Object(W.a)(["\n    background-color: #43a047;\n  "]);return pi=function(){return e},e}function di(){var e=Object(W.a)(["\n    padding: 20px 25px;\n    margin-bottom: 30px;\n    color: #fff;\n  "]);return di=function(){return e},e}ci={message:Object(G.css)(di()),success:Object(G.css)(pi()),error:Object(G.css)(li()),info:Object(G.css)(ui()),warning:Object(G.css)(si())},ri={},Object(s.a)(ri,"MESSAGE_SEVERITY_ERROR",ci.error),Object(s.a)(ri,H,ci.success),Object(s.a)(ri,"MESSAGE_SEVERITY_WARNING",ci.warning),Object(s.a)(ri,"MESSAGE_SEVERITY_INFO",ci.info),oi=ri;var mi,bi=function(e){var t=e.message,n=e.messageSeverity;return r.a.createElement("div",{className:"".concat(ci.message," ").concat(oi[n])},t)},fi=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(P.a)(t).call(this,e))).state={error:null},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){return this.state.error?r.a.createElement(bi,{message:this.state.error.toString(),messageSeverity:"MESSAGE_SEVERITY_ERROR"}):this.props.children}}]),t}(r.a.Component);function hi(){var e=Object(W.a)(["\n    overflow-x: hidden;\n    transition: none;\n    width: 72px;\n    transition: width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;\n  "]);return hi=function(){return e},e}function yi(){var e=Object(W.a)(["\n    position: relative;\n    width: 250px;\n    transition: width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;\n  "]);return yi=function(){return e},e}function vi(){var e=Object(W.a)(["\n    flex-grow: 1;\n    padding: 2rem;\n    height: 100%;\n  "]);return vi=function(){return e},e}function Oi(){var e=Object(W.a)(["\n    height: 100%;\n    display: flex;\n  "]);return Oi=function(){return e},e}function gi(){var e=Object(W.a)(["\n    display: flex;\n    justify-content: flex-end;\n  "]);return gi=function(){return e},e}function ji(){var e=Object(W.a)(["\n    margin: 8px 12px;\n  "]);return ji=function(){return e},e}function Ei(){var e=Object(W.a)(["\n    display: inherit;\n    text-decoration: inherit;\n  "]);return Ei=function(){return e},e}var xi={"/admin/content":r.a.createElement(Oo.a,null),"/admin/structure":r.a.createElement(jo.a,null),"/admin/appearance":r.a.createElement(xo.a,null),"/admin/modules":r.a.createElement(So.a,null),"/admin/config":r.a.createElement(To.a,null),"/admin/people":r.a.createElement(_o.a,null),"/admin/reports":r.a.createElement(Io.a,null),"/admin/help":r.a.createElement(No.a,null)},ki=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement("div",{className:mi.outerWrapper},r.a.createElement(fo.a,null),r.a.createElement(yo.a,{variant:"permanent",classes:{paper:"".concat(mi.drawerPaper," ").concat(!n.props.drawerOpen&&mi.drawerPaperClose)},open:n.props.drawerOpen},r.a.createElement("div",{className:mi.menuButtonWrapper},n.props.drawerOpen?r.a.createElement(Jn.a,{"aria-label":"close drawer",onClick:n.props.closeDrawer,className:mi.menuButton},r.a.createElement(Mo.a,null)):r.a.createElement(Jn.a,{color:"inherit","aria-label":"open drawer",onClick:n.props.openDrawer,className:mi.menuButton},r.a.createElement(Ro.a,null))),r.a.createElement(Ae.a,null),r.a.createElement(Le.a,{"data-nightwatch":"menu"},n.props.menuLinks.map(function(e){var t=e.link;return r.a.createElement(Pe.a,{key:t.url.replace(/\//g,"-"),component:"li",button:!0},r.a.createElement(mn.a,{to:t.url,className:mi.menuLink,role:"button"},xi[t.url]?r.a.createElement(ic.a,null,xi[t.url]):"",r.a.createElement(hn.a,{primary:t.title})))})),n.props.menuLinks.length?r.a.createElement(Ae.a,null):""),r.a.createElement("main",{className:mi.main,id:mi.main},r.a.createElement(fi,null,n.props.children,n.props.message&&r.a.createElement(ii,Object.assign({},n.props.message,{onClose:function(){return n.props.clearMessage(n.props.message.key)}})))))},n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.requestMenu()}}]),t}(r.a.Component);mi={menuLink:Object(G.css)(Ei()),menuButton:Object(G.css)(ji()),menuButtonWrapper:Object(G.css)(gi()),outerWrapper:Object(G.css)(Oi()),main:Object(G.css)(vi()),drawerPaper:Object(G.css)(yi()),drawerPaperClose:Object(G.css)(hi())},ki.defaultProps={message:null,drawerOpen:!1};var Si=Object(mo.a)(Object(v.connect)(function(e){return{message:e.application.messages[0]||null,menuLinks:e.application.menuLinks||[],drawerOpen:e.application.drawerOpen}},{requestMenu:function(){return{type:Kt,payload:{}}},openDrawer:function(){return{type:"OPEN_DRAWER"}},closeDrawer:function(){return{type:"CLOSE_DRAWER"}},setMessage:Yt,clearMessage:Jt})(ki)),wi=function(e){function t(){return Object(N.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){Object.keys(po).includes(this.props.location.pathname)||(window.location.href=""+this.props.location.pathname)}},{key:"render",value:function(){return null}}]),t}(a.Component),Ti=w.a.mark(Ci);function Ci(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([dn(),Ga(),Xr(),Wr(),wc(),co()]);case 2:case"end":return e.stop()}},Ti,this)}var _i={messages:[],menuLinks:[],filterString:"",contentTypes:{},actions:[],drawerOpen:!1,components:null},Ai={contentList:[],contentByNid:{},links:{},restorableContentAddByBundle:{},restorableContentEditById:{},user:{}},Ii={uiSchema:{},schema:{}},Di={taxonomyVocabulary:[],taxonomyTerms:{}},Ni={application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLOSE_DRAWER":return Object(u.a)({},e,{drawerOpen:!1});case"OPEN_DRAWER":return Object(u.a)({},e,{drawerOpen:!0});case"SET_MESSAGE":var n=Object(Ue.a)(e.messages);return n.push({message:t.payload.message,messageSeverity:t.payload.messageSeverity,key:Date.now()+Math.random(),open:!0}),Object(u.a)({},e,{messages:n});case"CLEAR_MESSAGE":var a=Object(Ue.a)(e.messages);return a.splice(a.findIndex(function(e){return e.key===t.payload.key}),1),Object(u.a)({},e,{messages:a});case"CLEAR_MESSAGES":case y.b:return Object(u.a)({},e,{messages:[]});case Xt:return Object(u.a)({},e,{menuLinks:Array.isArray(t.payload.menuLinks)?t.payload.menuLinks:[]});case Jr:var r=e.dblog,c=Object(yt.a)(e,["dblog"]);return Object(u.a)({},c,{dblog:Object(u.a)({},r,{next:Object.prototype.hasOwnProperty.call(t.payload.dbLogEntries.links,"next")||!1,entries:t.payload.dbLogEntries.data.map(function(e){var t=e.attributes;return{wid:t.wid,messageFormattedPlain:t.message_formatted_plain,timestamp:t.timestamp,type:t.type}}),availableTypes:t.payload.dbLogEntriesTypes})});case Qr:var o=e.dblog,i=Object(yt.a)(e,["dblog"]);return Object(u.a)({},i,{dblog:Object(u.a)({},o,{filterOptions:t.payload.options})});case Vr:var l=t.payload.roles.data;return Object(u.a)({},e,{roles:l});case nn:return Object(u.a)({},e,{contentTypes:t.payload.contentTypes.data.reduce(function(e,t){return Object(u.a)({},e,Object(s.a)({},t.attributes.type,{name:t.attributes.name,description:t.attributes.description}))},{})});case on:return Object(u.a)({},e,{actions:t.payload.actions.data});case ln:return Object(u.a)({},e,{components:t.payload.components});default:return e}},content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca:return Object(u.a)({},e,{contentByNid:Object(s.a)({},t.payload.content.attributes.nid,t.payload.content)});case"CONTENT_ADD_CHANGE":return Object(u.a)({},e,{restorableContentAddByBundle:Object(u.a)({},e.restorableContentAddByBundle,Object(s.a)({},t.payload.bundle,t.payload.entity))});case"CONTENT_EDIT_CHANGE":return Object(u.a)({},e,{restorableContentEditById:Object(u.a)({},e.restorableContentEditById,Object(s.a)({},t.payload.entity.id,t.payload.entity))});case Da:return Object(u.a)({},e,{restorableContentAddByBundle:Object(s.a)({},t.payload.bundle,null)});case Sa:return Object(u.a)({},e,{includes:t.payload.contentList.included?t.payload.contentList.included.reduce(function(e,t){return e[t.type]=e[t.type]||{},e[t.type][t.id]=t,e},{}):{},contentList:t.payload.contentList.data?t.payload.contentList.data.map(function(e){return Object(u.a)({},e,{type:e.type.substr(6)})}):[],links:t.payload.contentList.links});case La:return Object(u.a)({},e,{contentList:e.contentList.filter(function(e){return e.id!==t.payload.content.id})});case Ha:return Object(u.a)({},e,{user:t.payload.user});default:return e}},schema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jc:return Object(u.a)({},e,{schema:Object(s.a)({},"".concat(t.payload.entityTypeId,"--").concat(t.payload.bundle),t.payload.entitySchema)});case kc:return Object(u.a)({},e,{schema:Object(s.a)({},"".concat(t.payload.entityTypeId,"--").concat(t.payload.entityId),t.payload.entitySchema)});case vc:var n=Object(i.a)(t.payload.formDisplaySchema,1)[0].attributes.content,a=t.payload.fieldSchema.reduce(function(e,t){return e[t.attributes.field_name]=t,e},{});return Object(u.a)({},e,{uiSchema:Object(u.a)({},e.uiSchema,Object(s.a)({},"".concat(t.payload.entityTypeId,"--").concat(t.payload.bundle),{fieldSchema:a,formDisplaySchema:n,fieldStorageConfig:t.payload.fieldStorageConfig}))});default:return e}},taxonomy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zc:return Object(u.a)({},e,{taxonomyVocabulary:t.payload.taxonomyVocabulary});case ao:var n=t.payload,a=n.vocabulary,r=n.taxonomyTerms;return Object(u.a)({},e,{taxonomyTerms:Object(u.a)({},e.taxonomyTerms,Object(s.a)({},a,r))});default:return e}}},Li={application:_i,content:Ai,schema:Ii,taxonomy:Di},Ri=Object(u.a)({},Ni,{loadingBar:C.loadingBarReducer}),Pi=n(563),Mi=function(e){var t=e.location.search.replace("?q=","").replace(/^\//,"");return t?r.a.createElement(Pi.a,{to:t}):r.a.createElement(Pi.a,{to:"/"})},qi=b()(),Fi=Object(y.d)(qi),Bi=Object(O.a)(),Ui=Object(h.createStore)(Object(h.combineReducers)(Object(u.a)({},Ri,{router:y.e})),Object(f.default)(Li,function(){var e,t;if("object"===typeof window)try{localStorage.setItem("localStorageTest",!0),t=localStorage.getItem("drupalAdminUiReduxState")||""}catch(n){t=window.Cookie&&decodeURIComponent(window.Cookie.get("drupalAdminUiReduxState"))||""}try{e=JSON.parse(t)}catch(n){e={}}return e}()),Object(g.composeWithDevTools)(Object(h.applyMiddleware)(Bi,Fi)));Bi.run(Ci),"object"===typeof window&&Ui.subscribe(function(){return function(e){var t=e.getState(),n=JSON.stringify(function(e){return{content:{restorableContentAddByBundle:e.content.restorableContentAddByBundle,restorableContentEditById:e.content.restorableContentEditById}}}(t));try{localStorage.setItem("drupalAdminUiReduxState",n)}catch(a){}}(Ui)});var Vi=Object(k.createGenerateClassName)(),Hi=Object(x.create)(Object(k.jssPreset)());Hi.options.insertionPoint=document.getElementById("jss-insertion-point");var Wi=Object(k.createMuiTheme)({typography:{useNextVariants:!0}}),Gi=function(e){var t=e.serverRoutes;return r.a.createElement(E.a,{jss:Hi,generateClassName:Vi},r.a.createElement(k.MuiThemeProvider,{theme:Wi},r.a.createElement(fi,null,r.a.createElement(v.Provider,{store:Ui},r.a.createElement(y.a,{history:qi},r.a.createElement(Si,null,r.a.createElement(l.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:Object(d.a)(mr)}),Object.entries(Object(u.a)({},po,Object.values(t).reduce(function(e,t){var n=t.route,a=t.component,r=t.moduleName;return Object(u.a)({},e,Object(s.a)({},"/".concat(r).concat(n),a))},{}))).map(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement(p.a,{exact:!0,path:n,component:function(){return r.a.createElement(_c,{component:a,render:function(e){return r.a.createElement(Object(d.a)(e))}})},key:n})}),r.a.createElement(p.a,{path:"/(vfancy/?)",component:Object(d.a)(Mi)}),r.a.createElement(p.a,{component:wi}))))))))};Gi.defaultProps={serverRoutes:{}};var Yi=Gi,zi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qi(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&navigator.serviceWorker.controller}}}).catch(function(){})}V("admin_ui_routes").then(function(e){var t=e.routes;o.a.render(r.a.createElement(Yi,{serverRoutes:t}),document.getElementById("root"))}),function(){if("serviceWorker"in navigator){if(new URL("/vfancy",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/vfancy","/service-worker.js");zi?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Qi(e)}).catch(function(){})}(e),navigator.serviceWorker.ready.then(function(){})):Qi(e)})}}()}},[[299,2,1]]]);
//# sourceMappingURL=main.bdf9b0de.chunk.js.map